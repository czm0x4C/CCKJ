; generated by Component: ARM Compiler 5.06 update 7 (build 960) Tool: ArmCC [4d365d]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o4gcamera\ov2640.o --asm_dir=.\ --list_dir=.\ --depend=4gcamera\ov2640.d --cpu=Cortex-M4.fp.sp --apcs=interwork -O0 --diag_suppress=9931 -I../USB_DEVICE/App -I../USB_DEVICE/Target -I../Core/Inc -I../Drivers/STM32F4xx_HAL_Driver/Inc -I../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy -I../Middlewares/ST/STM32_USB_Device_Library/Core/Inc -I../Middlewares/ST/STM32_USB_Device_Library/Class/CDC/Inc -I../Drivers/CMSIS/Device/ST/STM32F4xx/Include -I../Drivers/CMSIS/Include -I../Middlewares/Third_Party/FreeRTOS/Source/include -I../Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2 -I../Middlewares/Third_Party/FreeRTOS/Source/portable/RVDS/ARM_CM4F -I../HARDWARE/OV2640 -I../HARDWARE/WS2812B -I../HARDWARE/RING_BUFFER -I../HARDWARE/FLASH -I.\RTE\_4GCAMERA -IC:\Users\czm\AppData\Local\Arm\Packs\ARM\CMSIS\5.8.0\CMSIS\Core\Include -IC:\Users\czm\AppData\Local\Arm\Packs\Keil\STM32F4xx_DFP\2.13.0\Drivers\CMSIS\Device\ST\STM32F4xx\Include -D__UVISION_VERSION=536 -D_RTE_ -DSTM32F407xx -D_RTE_ -DUSE_HAL_DRIVER -DSTM32F407xx --omf_browse=4gcamera\ov2640.crf ..\HARDWARE\OV2640\ov2640.c]
                          THUMB

                          AREA ||i.OV2640_Auto_Exposure||, CODE, READONLY, ALIGN=2

                  OV2640_Auto_Exposure PROC
;;;658    //level:0~4
;;;659    void OV2640_Auto_Exposure(uint8_t level)
000000  b570              PUSH     {r4-r6,lr}
;;;660    {
000002  4605              MOV      r5,r0
;;;661        uint8_t i;
;;;662        uint8_t *p=(uint8_t*)OV2640_AUTOEXPOSURE_LEVEL[level];
000004  4808              LDR      r0,|L1.40|
000006  eb0006c5          ADD      r6,r0,r5,LSL #3
;;;663        for(i=0;i<4;i++)
00000a  2400              MOVS     r4,#0
00000c  e009              B        |L1.34|
                  |L1.14|
;;;664        {
;;;665            SCCB_WR_Reg(p[i*2],p[i*2+1]);
00000e  2201              MOVS     r2,#1
000010  eb020244          ADD      r2,r2,r4,LSL #1
000014  5cb1              LDRB     r1,[r6,r2]
000016  f8160014          LDRB     r0,[r6,r4,LSL #1]
00001a  f7fffffe          BL       SCCB_WR_Reg
00001e  1c60              ADDS     r0,r4,#1              ;663
000020  b2c4              UXTB     r4,r0                 ;663
                  |L1.34|
000022  2c04              CMP      r4,#4                 ;663
000024  dbf3              BLT      |L1.14|
;;;666        }
;;;667    }
000026  bd70              POP      {r4-r6,pc}
;;;668    //Light_Mode
                          ENDP

                  |L1.40|
                          DCD      OV2640_AUTOEXPOSURE_LEVEL

                          AREA ||i.OV2640_Brightness||, CODE, READONLY, ALIGN=1

                  OV2640_Brightness PROC
;;;728    //4,(0X40)+2
;;;729    void OV2640_Brightness(uint8_t bright)
000000  b510              PUSH     {r4,lr}
;;;730    {
000002  4604              MOV      r4,r0
;;;731      SCCB_WR_Reg(0xff, 0x00);
000004  2100              MOVS     r1,#0
000006  20ff              MOVS     r0,#0xff
000008  f7fffffe          BL       SCCB_WR_Reg
;;;732      SCCB_WR_Reg(0x7c, 0x00);
00000c  2100              MOVS     r1,#0
00000e  207c              MOVS     r0,#0x7c
000010  f7fffffe          BL       SCCB_WR_Reg
;;;733      SCCB_WR_Reg(0x7d, 0x04);
000014  2104              MOVS     r1,#4
000016  207d              MOVS     r0,#0x7d
000018  f7fffffe          BL       SCCB_WR_Reg
;;;734      SCCB_WR_Reg(0x7c, 0x09);
00001c  2109              MOVS     r1,#9
00001e  207c              MOVS     r0,#0x7c
000020  f7fffffe          BL       SCCB_WR_Reg
;;;735      SCCB_WR_Reg(0x7d, bright<<4);
000024  0720              LSLS     r0,r4,#28
000026  0e01              LSRS     r1,r0,#24
000028  207d              MOVS     r0,#0x7d
00002a  f7fffffe          BL       SCCB_WR_Reg
;;;736      SCCB_WR_Reg(0x7d, 0x00);
00002e  2100              MOVS     r1,#0
000030  207d              MOVS     r0,#0x7d
000032  f7fffffe          BL       SCCB_WR_Reg
;;;737    }
000036  bd10              POP      {r4,pc}
;;;738    //Contrast
                          ENDP


                          AREA ||i.OV2640_Color_Bar||, CODE, READONLY, ALIGN=1

                  OV2640_Color_Bar PROC
;;;827    //   1,open
;;;828    void OV2640_Color_Bar(uint8_t sw)
000000  b570              PUSH     {r4-r6,lr}
;;;829    {
000002  4605              MOV      r5,r0
;;;830        uint8_t reg;
;;;831        SCCB_WR_Reg(0XFF,0X01);
000004  2101              MOVS     r1,#1
000006  20ff              MOVS     r0,#0xff
000008  f7fffffe          BL       SCCB_WR_Reg
;;;832        reg=SCCB_RD_Reg(0X12);
00000c  2012              MOVS     r0,#0x12
00000e  f7fffffe          BL       SCCB_RD_Reg
000012  4604              MOV      r4,r0
;;;833        reg&=~(1<<1);
000014  f0240402          BIC      r4,r4,#2
;;;834        if(sw)reg|=1<<1;
000018  b10d              CBZ      r5,|L3.30|
00001a  f0440402          ORR      r4,r4,#2
                  |L3.30|
;;;835        SCCB_WR_Reg(0X12,reg);
00001e  4621              MOV      r1,r4
000020  2012              MOVS     r0,#0x12
000022  f7fffffe          BL       SCCB_WR_Reg
;;;836    }
000026  bd70              POP      {r4-r6,pc}
;;;837    
                          ENDP


                          AREA ||i.OV2640_Color_Saturation||, CODE, READONLY, ALIGN=1

                  OV2640_Color_Saturation PROC
;;;712    //4,+2
;;;713    void OV2640_Color_Saturation(uint8_t sat)
000000  b570              PUSH     {r4-r6,lr}
;;;714    {
000002  4604              MOV      r4,r0
;;;715        uint8_t reg7dval=((sat+2)<<4)|0X08;
000004  1ca0              ADDS     r0,r4,#2
000006  2108              MOVS     r1,#8
000008  ea411000          ORR      r0,r1,r0,LSL #4
00000c  b2c5              UXTB     r5,r0
;;;716        SCCB_WR_Reg(0XFF,0X00);
00000e  2100              MOVS     r1,#0
000010  20ff              MOVS     r0,#0xff
000012  f7fffffe          BL       SCCB_WR_Reg
;;;717        SCCB_WR_Reg(0X7C,0X00);
000016  2100              MOVS     r1,#0
000018  207c              MOVS     r0,#0x7c
00001a  f7fffffe          BL       SCCB_WR_Reg
;;;718        SCCB_WR_Reg(0X7D,0X02);
00001e  2102              MOVS     r1,#2
000020  207d              MOVS     r0,#0x7d
000022  f7fffffe          BL       SCCB_WR_Reg
;;;719        SCCB_WR_Reg(0X7C,0X03);
000026  2103              MOVS     r1,#3
000028  207c              MOVS     r0,#0x7c
00002a  f7fffffe          BL       SCCB_WR_Reg
;;;720        SCCB_WR_Reg(0X7D,reg7dval);
00002e  4629              MOV      r1,r5
000030  207d              MOVS     r0,#0x7d
000032  f7fffffe          BL       SCCB_WR_Reg
;;;721        SCCB_WR_Reg(0X7D,reg7dval);
000036  4629              MOV      r1,r5
000038  207d              MOVS     r0,#0x7d
00003a  f7fffffe          BL       SCCB_WR_Reg
;;;722    }
00003e  bd70              POP      {r4-r6,pc}
;;;723    //Brightness
                          ENDP


                          AREA ||i.OV2640_Contrast||, CODE, READONLY, ALIGN=1

                  OV2640_Contrast PROC
;;;743    //4,+2
;;;744    void OV2640_Contrast(uint8_t contrast)
000000  b570              PUSH     {r4-r6,lr}
;;;745    {
000002  4604              MOV      r4,r0
;;;746        uint8_t reg7d0val=0X20;
000004  2520              MOVS     r5,#0x20
;;;747        uint8_t reg7d1val=0X20;
000006  2620              MOVS     r6,#0x20
;;;748          switch(contrast)
000008  b134              CBZ      r4,|L5.24|
00000a  2c01              CMP      r4,#1
00000c  d007              BEQ      |L5.30|
00000e  2c03              CMP      r4,#3
000010  d008              BEQ      |L5.36|
000012  2c04              CMP      r4,#4
000014  d10c              BNE      |L5.48|
000016  e008              B        |L5.42|
                  |L5.24|
;;;749        {
;;;750            case 0://-2
;;;751                reg7d0val=0X18;
000018  2518              MOVS     r5,#0x18
;;;752                reg7d1val=0X34;
00001a  2634              MOVS     r6,#0x34
;;;753                break;
00001c  e008              B        |L5.48|
                  |L5.30|
;;;754            case 1://-1
;;;755                reg7d0val=0X1C;
00001e  251c              MOVS     r5,#0x1c
;;;756                reg7d1val=0X2A;
000020  262a              MOVS     r6,#0x2a
;;;757                break;
000022  e005              B        |L5.48|
                  |L5.36|
;;;758            case 3://1
;;;759                reg7d0val=0X24;
000024  2524              MOVS     r5,#0x24
;;;760                reg7d1val=0X16;
000026  2616              MOVS     r6,#0x16
;;;761                break;
000028  e002              B        |L5.48|
                  |L5.42|
;;;762            case 4://2
;;;763                reg7d0val=0X28;
00002a  2528              MOVS     r5,#0x28
;;;764                reg7d1val=0X0C;
00002c  260c              MOVS     r6,#0xc
;;;765                break;
00002e  bf00              NOP      
                  |L5.48|
000030  bf00              NOP                            ;753
;;;766        }
;;;767        SCCB_WR_Reg(0xff,0x00);
000032  2100              MOVS     r1,#0
000034  20ff              MOVS     r0,#0xff
000036  f7fffffe          BL       SCCB_WR_Reg
;;;768        SCCB_WR_Reg(0x7c,0x00);
00003a  2100              MOVS     r1,#0
00003c  207c              MOVS     r0,#0x7c
00003e  f7fffffe          BL       SCCB_WR_Reg
;;;769        SCCB_WR_Reg(0x7d,0x04);
000042  2104              MOVS     r1,#4
000044  207d              MOVS     r0,#0x7d
000046  f7fffffe          BL       SCCB_WR_Reg
;;;770        SCCB_WR_Reg(0x7c,0x07);
00004a  2107              MOVS     r1,#7
00004c  207c              MOVS     r0,#0x7c
00004e  f7fffffe          BL       SCCB_WR_Reg
;;;771        SCCB_WR_Reg(0x7d,0x20);
000052  2120              MOVS     r1,#0x20
000054  207d              MOVS     r0,#0x7d
000056  f7fffffe          BL       SCCB_WR_Reg
;;;772        SCCB_WR_Reg(0x7d,reg7d0val);
00005a  4629              MOV      r1,r5
00005c  207d              MOVS     r0,#0x7d
00005e  f7fffffe          BL       SCCB_WR_Reg
;;;773        SCCB_WR_Reg(0x7d,reg7d1val);
000062  4631              MOV      r1,r6
000064  207d              MOVS     r0,#0x7d
000066  f7fffffe          BL       SCCB_WR_Reg
;;;774        SCCB_WR_Reg(0x7d,0x06);
00006a  2106              MOVS     r1,#6
00006c  207d              MOVS     r0,#0x7d
00006e  f7fffffe          BL       SCCB_WR_Reg
;;;775    }
000072  bd70              POP      {r4-r6,pc}
;;;776    //Special_Effects
                          ENDP


                          AREA ||i.OV2640_GPIO_Init||, CODE, READONLY, ALIGN=2

                  OV2640_GPIO_Init PROC
;;;956    }
;;;957    void OV2640_GPIO_Init(void)
000000  b500              PUSH     {lr}
;;;958    {
000002  b087              SUB      sp,sp,#0x1c
;;;959    	GPIO_InitTypeDef GPIO_InitStruct = {0};
000004  2114              MOVS     r1,#0x14
000006  a802              ADD      r0,sp,#8
000008  f7fffffe          BL       __aeabi_memclr4
;;;960      __HAL_RCC_GPIOD_CLK_ENABLE();
00000c  bf00              NOP      
00000e  2000              MOVS     r0,#0
000010  9001              STR      r0,[sp,#4]
000012  4810              LDR      r0,|L6.84|
000014  6800              LDR      r0,[r0,#0]
000016  f0400008          ORR      r0,r0,#8
00001a  490e              LDR      r1,|L6.84|
00001c  6008              STR      r0,[r1,#0]
00001e  4608              MOV      r0,r1
000020  6800              LDR      r0,[r0,#0]
000022  f0000008          AND      r0,r0,#8
000026  9001              STR      r0,[sp,#4]
000028  bf00              NOP      
00002a  bf00              NOP      
;;;961      /*Configure GPIO pin Output Level */
;;;962      HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2|GPIO_PIN_3, GPIO_PIN_SET);
00002c  2201              MOVS     r2,#1
00002e  210c              MOVS     r1,#0xc
000030  4809              LDR      r0,|L6.88|
000032  f7fffffe          BL       HAL_GPIO_WritePin
;;;963    	/*Configure GPIO pins : PD2 PD3 */
;;;964      GPIO_InitStruct.Pin = GPIO_PIN_2|GPIO_PIN_3;
000036  200c              MOVS     r0,#0xc
000038  9002              STR      r0,[sp,#8]
;;;965      GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
00003a  2001              MOVS     r0,#1
00003c  9003              STR      r0,[sp,#0xc]
;;;966      GPIO_InitStruct.Pull = GPIO_PULLUP;
00003e  9004              STR      r0,[sp,#0x10]
;;;967      GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
000040  2003              MOVS     r0,#3
000042  9005              STR      r0,[sp,#0x14]
;;;968      HAL_GPIO_Init(GPIOD, &GPIO_InitStruct);
000044  a902              ADD      r1,sp,#8
000046  4805              LDR      r0,|L6.92|
000048  f7fffffe          BL       HAL_GPIO_Init
;;;969    	MX_DCMI_Init();		/*初始化DCMI接口*/
00004c  f7fffffe          BL       MX_DCMI_Init
;;;970    }
000050  b007              ADD      sp,sp,#0x1c
000052  bd00              POP      {pc}
;;;971    unsigned char getPicture = 0;
                          ENDP

                  |L6.84|
                          DCD      0x40023830
                  |L6.88|
                          DCD      0x40020400
                  |L6.92|
                          DCD      0x40020c00

                          AREA ||i.OV2640_ImageSize_Set||, CODE, READONLY, ALIGN=1

                  OV2640_ImageSize_Set PROC
;;;906    
;;;907    uint8_t OV2640_ImageSize_Set(uint16_t width,uint16_t height)
000000  b570              PUSH     {r4-r6,lr}
;;;908    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;909        uint8_t temp;
;;;910        SCCB_WR_Reg(0XFF,0X00);
000006  2100              MOVS     r1,#0
000008  20ff              MOVS     r0,#0xff
00000a  f7fffffe          BL       SCCB_WR_Reg
;;;911        SCCB_WR_Reg(0XE0,0X04);
00000e  2104              MOVS     r1,#4
000010  20e0              MOVS     r0,#0xe0
000012  f7fffffe          BL       SCCB_WR_Reg
;;;912        SCCB_WR_Reg(0XC0,(width)>>3&0XFF);
000016  f3c401c7          UBFX     r1,r4,#3,#8
00001a  20c0              MOVS     r0,#0xc0
00001c  f7fffffe          BL       SCCB_WR_Reg
;;;913        SCCB_WR_Reg(0XC1,(height)>>3&0XFF);
000020  f3c501c7          UBFX     r1,r5,#3,#8
000024  20c1              MOVS     r0,#0xc1
000026  f7fffffe          BL       SCCB_WR_Reg
;;;914        temp=(width&0X07)<<3;
00002a  0760              LSLS     r0,r4,#29
00002c  0e86              LSRS     r6,r0,#26
;;;915        temp|=height&0X07;
00002e  f0050007          AND      r0,r5,#7
000032  4306              ORRS     r6,r6,r0
;;;916        temp|=(width>>4)&0X80;
000034  2080              MOVS     r0,#0x80
000036  ea001024          AND      r0,r0,r4,ASR #4
00003a  4306              ORRS     r6,r6,r0
;;;917        SCCB_WR_Reg(0X8C,temp);
00003c  4631              MOV      r1,r6
00003e  208c              MOVS     r0,#0x8c
000040  f7fffffe          BL       SCCB_WR_Reg
;;;918        SCCB_WR_Reg(0XE0,0X00);
000044  2100              MOVS     r1,#0
000046  20e0              MOVS     r0,#0xe0
000048  f7fffffe          BL       SCCB_WR_Reg
;;;919        return 0;
00004c  2000              MOVS     r0,#0
;;;920    }
00004e  bd70              POP      {r4-r6,pc}
;;;921    //OV2640切换为JPEG模式
                          ENDP


                          AREA ||i.OV2640_ImageWin_Set||, CODE, READONLY, ALIGN=1

                  OV2640_ImageWin_Set PROC
;;;881    
;;;882    uint8_t OV2640_ImageWin_Set(uint16_t offx,uint16_t offy,uint16_t width,uint16_t height)
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;883    {
000004  4680              MOV      r8,r0
000006  4689              MOV      r9,r1
000008  4614              MOV      r4,r2
00000a  461d              MOV      r5,r3
;;;884        uint16_t hsize;
;;;885        uint16_t vsize;
;;;886        uint8_t temp;
;;;887        if(width%4)return 1;
00000c  17e1              ASRS     r1,r4,#31
00000e  eb047191          ADD      r1,r4,r1,LSR #30
000012  1089              ASRS     r1,r1,#2
000014  eba40181          SUB      r1,r4,r1,LSL #2
000018  b111              CBZ      r1,|L8.32|
00001a  2001              MOVS     r0,#1
                  |L8.28|
;;;888        if(height%4)return 2;
;;;889        hsize=width/4;
;;;890        vsize=height/4;
;;;891        SCCB_WR_Reg(0XFF,0X00);
;;;892        SCCB_WR_Reg(0XE0,0X04);
;;;893        SCCB_WR_Reg(0X51,hsize&0XFF);
;;;894        SCCB_WR_Reg(0X52,vsize&0XFF);
;;;895        SCCB_WR_Reg(0X53,offx&0XFF);
;;;896        SCCB_WR_Reg(0X54,offy&0XFF);
;;;897        temp=(vsize>>1)&0X80;
;;;898        temp|=(offy>>4)&0X70;
;;;899        temp|=(hsize>>5)&0X08;
;;;900        temp|=(offx>>8)&0X07;
;;;901        SCCB_WR_Reg(0X55,temp);
;;;902        SCCB_WR_Reg(0X57,(hsize>>2)&0X80);
;;;903        SCCB_WR_Reg(0XE0,0X00);
;;;904        return 0;
;;;905    }
00001c  e8bd87f0          POP      {r4-r10,pc}
                  |L8.32|
000020  17e9              ASRS     r1,r5,#31             ;888
000022  eb057191          ADD      r1,r5,r1,LSR #30      ;888
000026  1089              ASRS     r1,r1,#2              ;888
000028  eba50181          SUB      r1,r5,r1,LSL #2       ;888
00002c  b109              CBZ      r1,|L8.50|
00002e  2002              MOVS     r0,#2                 ;888
000030  e7f4              B        |L8.28|
                  |L8.50|
000032  4620              MOV      r0,r4                 ;889
000034  17e1              ASRS     r1,r4,#31             ;889
000036  eb047191          ADD      r1,r4,r1,LSR #30      ;889
00003a  f3c1068f          UBFX     r6,r1,#2,#16          ;889
00003e  4628              MOV      r0,r5                 ;890
000040  17e9              ASRS     r1,r5,#31             ;890
000042  eb057191          ADD      r1,r5,r1,LSR #30      ;890
000046  f3c10a8f          UBFX     r10,r1,#2,#16         ;890
00004a  2100              MOVS     r1,#0                 ;891
00004c  20ff              MOVS     r0,#0xff              ;891
00004e  f7fffffe          BL       SCCB_WR_Reg
000052  2104              MOVS     r1,#4                 ;892
000054  20e0              MOVS     r0,#0xe0              ;892
000056  f7fffffe          BL       SCCB_WR_Reg
00005a  b2f1              UXTB     r1,r6                 ;893
00005c  2051              MOVS     r0,#0x51              ;893
00005e  f7fffffe          BL       SCCB_WR_Reg
000062  f00a01ff          AND      r1,r10,#0xff          ;894
000066  2052              MOVS     r0,#0x52              ;894
000068  f7fffffe          BL       SCCB_WR_Reg
00006c  f00801ff          AND      r1,r8,#0xff           ;895
000070  2053              MOVS     r0,#0x53              ;895
000072  f7fffffe          BL       SCCB_WR_Reg
000076  f00901ff          AND      r1,r9,#0xff           ;896
00007a  2054              MOVS     r0,#0x54              ;896
00007c  f7fffffe          BL       SCCB_WR_Reg
000080  2080              MOVS     r0,#0x80              ;897
000082  ea00076a          AND      r7,r0,r10,ASR #1      ;897
000086  2070              MOVS     r0,#0x70              ;898
000088  ea001029          AND      r0,r0,r9,ASR #4       ;898
00008c  4307              ORRS     r7,r7,r0              ;898
00008e  2008              MOVS     r0,#8                 ;899
000090  ea001066          AND      r0,r0,r6,ASR #5       ;899
000094  4307              ORRS     r7,r7,r0              ;899
000096  f3c82002          UBFX     r0,r8,#8,#3           ;900
00009a  4307              ORRS     r7,r7,r0              ;900
00009c  4639              MOV      r1,r7                 ;901
00009e  2055              MOVS     r0,#0x55              ;901
0000a0  f7fffffe          BL       SCCB_WR_Reg
0000a4  2080              MOVS     r0,#0x80              ;902
0000a6  ea0001a6          AND      r1,r0,r6,ASR #2       ;902
0000aa  2057              MOVS     r0,#0x57              ;902
0000ac  f7fffffe          BL       SCCB_WR_Reg
0000b0  2100              MOVS     r1,#0                 ;903
0000b2  20e0              MOVS     r0,#0xe0              ;903
0000b4  f7fffffe          BL       SCCB_WR_Reg
0000b8  2000              MOVS     r0,#0                 ;904
0000ba  e7af              B        |L8.28|
;;;906    
                          ENDP


                          AREA ||i.OV2640_Init||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_x
                          REQUIRE _printf_longlong_hex
                  OV2640_Init PROC
;;;971    unsigned char getPicture = 0;
;;;972    void OV2640_Init(void)
000000  b510              PUSH     {r4,lr}
;;;973    {
000002  b086              SUB      sp,sp,#0x18
;;;974    //	SCCB_GPIO_Init();/*初始化SCCB的通讯的GPIO*/
;;;975    //	OV2640_GPIO_Init();/*初始化摄像头使用的GPIO*/
;;;976    	char OutDebugString[20];
;;;977    	
;;;978    	OV2640_PWDN;
000004  2201              MOVS     r2,#1
000006  2102              MOVS     r1,#2
000008  4859              LDR      r0,|L9.368|
00000a  f7fffffe          BL       HAL_GPIO_WritePin
;;;979    	HAL_Delay(100);
00000e  2064              MOVS     r0,#0x64
000010  f7fffffe          BL       HAL_Delay
;;;980    	OV2640_PWUP;
000014  2200              MOVS     r2,#0
000016  2102              MOVS     r1,#2
000018  4855              LDR      r0,|L9.368|
00001a  f7fffffe          BL       HAL_GPIO_WritePin
;;;981    	HAL_Delay(100);
00001e  2064              MOVS     r0,#0x64
000020  f7fffffe          BL       HAL_Delay
;;;982    	OV2640_RST;
000024  2200              MOVS     r2,#0
000026  2101              MOVS     r1,#1
000028  4851              LDR      r0,|L9.368|
00002a  f7fffffe          BL       HAL_GPIO_WritePin
;;;983    	HAL_Delay(100);
00002e  2064              MOVS     r0,#0x64
000030  f7fffffe          BL       HAL_Delay
;;;984    	OV2640_RUN;
000034  2201              MOVS     r2,#1
000036  4611              MOV      r1,r2
000038  484d              LDR      r0,|L9.368|
00003a  f7fffffe          BL       HAL_GPIO_WritePin
;;;985    	HAL_Delay(100);
00003e  2064              MOVS     r0,#0x64
000040  f7fffffe          BL       HAL_Delay
;;;986    	SCCB_WR_Reg(OV2640_DSP_RA_DLMT, 0x01);	//操作sensor寄存器
000044  2101              MOVS     r1,#1
000046  20ff              MOVS     r0,#0xff
000048  f7fffffe          BL       SCCB_WR_Reg
;;;987     	SCCB_WR_Reg(OV2640_SENSOR_COM7, 0x80);	//软复位OV2640
00004c  2180              MOVS     r1,#0x80
00004e  2012              MOVS     r0,#0x12
000050  f7fffffe          BL       SCCB_WR_Reg
;;;988    	
;;;989    	static unsigned short confirmOV2640_MID = 0;
;;;990    	static unsigned short confirmOV2640_PID = 0;
;;;991    	confirmOV2640_MID = SCCB_RD_Reg(OV2640_SENSOR_MIDH);
000054  201c              MOVS     r0,#0x1c
000056  f7fffffe          BL       SCCB_RD_Reg
00005a  4946              LDR      r1,|L9.372|
00005c  8008              STRH     r0,[r1,#0]
;;;992    	confirmOV2640_MID = confirmOV2640_MID << 8;
00005e  4608              MOV      r0,r1
000060  8800              LDRH     r0,[r0,#0]  ; confirmOV2640_MID
000062  f64f71ff          MOV      r1,#0xffff
000066  ea012000          AND      r0,r1,r0,LSL #8
00006a  4942              LDR      r1,|L9.372|
00006c  8008              STRH     r0,[r1,#0]
;;;993    	confirmOV2640_MID = confirmOV2640_MID | SCCB_RD_Reg(OV2640_SENSOR_MIDL);
00006e  201d              MOVS     r0,#0x1d
000070  f7fffffe          BL       SCCB_RD_Reg
000074  493f              LDR      r1,|L9.372|
000076  8809              LDRH     r1,[r1,#0]  ; confirmOV2640_MID
000078  4308              ORRS     r0,r0,r1
00007a  493e              LDR      r1,|L9.372|
00007c  8008              STRH     r0,[r1,#0]
;;;994    //	sprintf(OutDebugString,"MID = %X\r\n",confirmOV2640_MID);
;;;995    //	CDC_Transmit_FS((unsigned char*)OutDebugString,strlen(OutDebugString));
;;;996    //	memset(OutDebugString,'\0',sizeof(OutDebugString));
;;;997    	
;;;998    	confirmOV2640_PID = SCCB_RD_Reg(OV2640_SENSOR_PIDH);
00007e  200a              MOVS     r0,#0xa
000080  f7fffffe          BL       SCCB_RD_Reg
000084  493c              LDR      r1,|L9.376|
000086  8008              STRH     r0,[r1,#0]
;;;999    	confirmOV2640_PID = confirmOV2640_PID << 8;
000088  4608              MOV      r0,r1
00008a  8800              LDRH     r0,[r0,#0]  ; confirmOV2640_PID
00008c  f64f71ff          MOV      r1,#0xffff
000090  ea012000          AND      r0,r1,r0,LSL #8
000094  4938              LDR      r1,|L9.376|
000096  8008              STRH     r0,[r1,#0]
;;;1000   	confirmOV2640_PID = confirmOV2640_PID | SCCB_RD_Reg(OV2640_SENSOR_PIDL);
000098  200b              MOVS     r0,#0xb
00009a  f7fffffe          BL       SCCB_RD_Reg
00009e  4936              LDR      r1,|L9.376|
0000a0  8809              LDRH     r1,[r1,#0]  ; confirmOV2640_PID
0000a2  4308              ORRS     r0,r0,r1
0000a4  4934              LDR      r1,|L9.376|
0000a6  8008              STRH     r0,[r1,#0]
;;;1001   //	sprintf(OutDebugString,"HID = %X\r\n",confirmOV2640_PID);
;;;1002   //	CDC_Transmit_FS((unsigned char*)OutDebugString,strlen(OutDebugString));
;;;1003   //	memset(OutDebugString,'\0',sizeof(OutDebugString));
;;;1004   
;;;1005   	if((confirmOV2640_MID != OV2640_MID) && (confirmOV2640_PID != OV2640_PID))
0000a8  4832              LDR      r0,|L9.372|
0000aa  8800              LDRH     r0,[r0,#0]  ; confirmOV2640_MID
0000ac  f64771a2          MOV      r1,#0x7fa2
0000b0  4288              CMP      r0,r1
0000b2  d035              BEQ      |L9.288|
0000b4  4830              LDR      r0,|L9.376|
0000b6  8800              LDRH     r0,[r0,#0]  ; confirmOV2640_PID
0000b8  f2426142          MOV      r1,#0x2642
0000bc  4288              CMP      r0,r1
0000be  d02f              BEQ      |L9.288|
;;;1006   	{
;;;1007   		sprintf(OutDebugString,"Camera is Error!\r\n");
0000c0  a12e              ADR      r1,|L9.380|
0000c2  a801              ADD      r0,sp,#4
0000c4  f7fffffe          BL       __2sprintf
;;;1008   		while(CDC_Transmit_HS((unsigned char*)OutDebugString,strlen(OutDebugString)) != USBD_OK);
0000c8  bf00              NOP      
                  |L9.202|
0000ca  a801              ADD      r0,sp,#4
0000cc  f7fffffe          BL       strlen
0000d0  b284              UXTH     r4,r0
0000d2  4621              MOV      r1,r4
0000d4  a801              ADD      r0,sp,#4
0000d6  f7fffffe          BL       CDC_Transmit_HS
0000da  2800              CMP      r0,#0
0000dc  d1f5              BNE      |L9.202|
;;;1009   		memset(OutDebugString,'\0',sizeof(OutDebugString));
0000de  2114              MOVS     r1,#0x14
0000e0  a801              ADD      r0,sp,#4
0000e2  f7fffffe          BL       __aeabi_memclr4
;;;1010   		sprintf(OutDebugString,"MID = %X,HID = %X",confirmOV2640_MID,confirmOV2640_PID);
0000e6  4824              LDR      r0,|L9.376|
0000e8  8803              LDRH     r3,[r0,#0]  ; confirmOV2640_PID
0000ea  4822              LDR      r0,|L9.372|
0000ec  8802              LDRH     r2,[r0,#0]  ; confirmOV2640_MID
0000ee  a128              ADR      r1,|L9.400|
0000f0  a801              ADD      r0,sp,#4
0000f2  f7fffffe          BL       __2sprintf
;;;1011   		while(CDC_Transmit_HS((unsigned char*)OutDebugString,strlen(OutDebugString)) != USBD_OK);
0000f6  bf00              NOP      
                  |L9.248|
0000f8  a801              ADD      r0,sp,#4
0000fa  f7fffffe          BL       strlen
0000fe  b284              UXTH     r4,r0
000100  4621              MOV      r1,r4
000102  a801              ADD      r0,sp,#4
000104  f7fffffe          BL       CDC_Transmit_HS
000108  2800              CMP      r0,#0
00010a  d1f5              BNE      |L9.248|
;;;1012   		memset(OutDebugString,'\0',sizeof(OutDebugString));
00010c  2114              MOVS     r1,#0x14
00010e  a801              ADD      r0,sp,#4
000110  f7fffffe          BL       __aeabi_memclr4
;;;1013   		HAL_Delay(1000);
000114  f44f707a          MOV      r0,#0x3e8
000118  f7fffffe          BL       HAL_Delay
                  |L9.284|
;;;1014   		return ;
;;;1015   	}
;;;1016   	sprintf(OutDebugString,"Camera is OK!\r\n");
;;;1017   //	while(CDC_Transmit_FS((unsigned char*)OutDebugString,strlen(OutDebugString)) != USBD_OK);
;;;1018   	memset(OutDebugString,'\0',sizeof(OutDebugString));
;;;1019   	if(1)
;;;1020   	{
;;;1021   		unsigned int i = 0;
;;;1022   //		for(i=0;i<sizeof(ov2640_uxga_init_reg_tbl)/2;i++)
;;;1023   //		{
;;;1024   //			SCCB_WR_Reg(ov2640_uxga_init_reg_tbl[i][0],ov2640_uxga_init_reg_tbl[i][1]);
;;;1025   //		} 
;;;1026   		for(i=0;i<sizeof(ov2640_svga_init_reg_tbl)/2;i++)
;;;1027   	{
;;;1028   	   	SCCB_WR_Reg(ov2640_svga_init_reg_tbl[i][0],ov2640_svga_init_reg_tbl[i][1]);
;;;1029    	}
;;;1030   	OV2640_UXGA_Init();
;;;1031   	
;;;1032   		/*设置工作模式*/
;;;1033   		OV2640_JPEG_Mode();
;;;1034   		//OV2640_RGB565_Mode();
;;;1035   		OV2640_OutSize_Set(800,600);
;;;1036   	}
;;;1037   	else
;;;1038   	{
;;;1039   		OV2640_UXGA_Init();
;;;1040   
;;;1041   		//pix speed adjustment
;;;1042   		SCCB_WR_Reg(0xff, 0x00);
;;;1043   		SCCB_WR_Reg(0xd3, 0x00);
;;;1044   		SCCB_WR_Reg(0XFF, 0X01);
;;;1045   		SCCB_WR_Reg(0X11, 0x01);
;;;1046   
;;;1047   		OV2640_RGB565_Mode();
;;;1048   		OV2640_OutSize_Set(20,120);		
;;;1049   	}
;;;1050   	
;;;1051   	HAL_Delay(1000);
;;;1052   }
00011c  b006              ADD      sp,sp,#0x18
00011e  bd10              POP      {r4,pc}
                  |L9.288|
000120  a120              ADR      r1,|L9.420|
000122  a801              ADD      r0,sp,#4              ;1016
000124  f7fffffe          BL       __2sprintf
000128  2114              MOVS     r1,#0x14              ;1018
00012a  a801              ADD      r0,sp,#4              ;1018
00012c  f7fffffe          BL       __aeabi_memclr4
000130  2400              MOVS     r4,#0                 ;1021
000132  bf00              NOP                            ;1026
000134  e009              B        |L9.330|
                  |L9.310|
000136  4a1f              LDR      r2,|L9.436|
000138  eb020244          ADD      r2,r2,r4,LSL #1       ;1028
00013c  7851              LDRB     r1,[r2,#1]            ;1028
00013e  4a1d              LDR      r2,|L9.436|
000140  f8120014          LDRB     r0,[r2,r4,LSL #1]     ;1028
000144  f7fffffe          BL       SCCB_WR_Reg
000148  1c64              ADDS     r4,r4,#1              ;1026
                  |L9.330|
00014a  2cb1              CMP      r4,#0xb1              ;1026
00014c  d3f3              BCC      |L9.310|
00014e  f7fffffe          BL       OV2640_UXGA_Init
000152  f7fffffe          BL       OV2640_JPEG_Mode
000156  f44f7116          MOV      r1,#0x258             ;1035
00015a  f44f7048          MOV      r0,#0x320             ;1035
00015e  f7fffffe          BL       OV2640_OutSize_Set
000162  f44f707a          MOV      r0,#0x3e8             ;1051
000166  f7fffffe          BL       HAL_Delay
00016a  bf00              NOP      
00016c  e7d6              B        |L9.284|
;;;1053   
                          ENDP

00016e  0000              DCW      0x0000
                  |L9.368|
                          DCD      0x40020c00
                  |L9.372|
                          DCD      confirmOV2640_MID
                  |L9.376|
                          DCD      confirmOV2640_PID
                  |L9.380|
00017c  43616d65          DCB      "Camera is Error!\r\n",0
000180  72612069
000184  73204572
000188  726f7221
00018c  0d0a00  
00018f  00                DCB      0
                  |L9.400|
000190  4d494420          DCB      "MID = %X,HID = %X",0
000194  3d202558
000198  2c484944
00019c  203d2025
0001a0  5800    
0001a2  00                DCB      0
0001a3  00                DCB      0
                  |L9.420|
0001a4  43616d65          DCB      "Camera is OK!\r\n",0
0001a8  72612069
0001ac  73204f4b
0001b0  210d0a00
                  |L9.436|
                          DCD      ov2640_svga_init_reg_tbl

                          AREA ||i.OV2640_JPEG_Mode||, CODE, READONLY, ALIGN=2

                  OV2640_JPEG_Mode PROC
;;;942    };
;;;943    void OV2640_JPEG_Mode(void) 
000000  b510              PUSH     {r4,lr}
;;;944    {
;;;945    	unsigned short i=0;
000002  2400              MOVS     r4,#0
;;;946    	//设置:YUV422格式
;;;947    	for(i=0;i<(sizeof(ov2640_yuv422_reg_tbl)/2);i++)
000004  bf00              NOP      
000006  e00a              B        |L10.30|
                  |L10.8|
;;;948    	{
;;;949    		SCCB_WR_Reg(ov2640_yuv422_reg_tbl[i][0],ov2640_yuv422_reg_tbl[i][1]); 
000008  4a0e              LDR      r2,|L10.68|
00000a  eb020244          ADD      r2,r2,r4,LSL #1
00000e  7851              LDRB     r1,[r2,#1]
000010  4a0c              LDR      r2,|L10.68|
000012  f8120014          LDRB     r0,[r2,r4,LSL #1]
000016  f7fffffe          BL       SCCB_WR_Reg
00001a  1c60              ADDS     r0,r4,#1              ;947
00001c  b284              UXTH     r4,r0                 ;947
                  |L10.30|
00001e  2c08              CMP      r4,#8                 ;947
000020  d3f2              BCC      |L10.8|
;;;950    	} 
;;;951    	//设置:输出JPEG数据
;;;952    	for(i=0;i<(sizeof(ov2640_jpeg_reg_tbl)/2);i++)
000022  2400              MOVS     r4,#0
000024  e00a              B        |L10.60|
                  |L10.38|
;;;953    	{
;;;954    		SCCB_WR_Reg(ov2640_jpeg_reg_tbl[i][0],ov2640_jpeg_reg_tbl[i][1]);  
000026  4a08              LDR      r2,|L10.72|
000028  eb020244          ADD      r2,r2,r4,LSL #1
00002c  7851              LDRB     r1,[r2,#1]
00002e  4a06              LDR      r2,|L10.72|
000030  f8120014          LDRB     r0,[r2,r4,LSL #1]
000034  f7fffffe          BL       SCCB_WR_Reg
000038  1c60              ADDS     r0,r4,#1              ;952
00003a  b284              UXTH     r4,r0                 ;952
                  |L10.60|
00003c  2c07              CMP      r4,#7                 ;952
00003e  d3f2              BCC      |L10.38|
;;;955    	}  
;;;956    }
000040  bd10              POP      {r4,pc}
;;;957    void OV2640_GPIO_Init(void)
                          ENDP

000042  0000              DCW      0x0000
                  |L10.68|
                          DCD      ov2640_yuv422_reg_tbl
                  |L10.72|
                          DCD      ov2640_jpeg_reg_tbl

                          AREA ||i.OV2640_Light_Mode||, CODE, READONLY, ALIGN=1

                  OV2640_Light_Mode PROC
;;;673    //4:home
;;;674    void OV2640_Light_Mode(uint8_t mode)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;675    {
000004  4604              MOV      r4,r0
;;;676        uint8_t regccval=0X5E;//Sunny
000006  255e              MOVS     r5,#0x5e
;;;677        uint8_t regcdval=0X41;
000008  2641              MOVS     r6,#0x41
;;;678        uint8_t regceval=0X54;
00000a  2754              MOVS     r7,#0x54
;;;679        switch(mode)
00000c  b134              CBZ      r4,|L11.28|
00000e  2c02              CMP      r4,#2
000010  d00e              BEQ      |L11.48|
000012  2c03              CMP      r4,#3
000014  d010              BEQ      |L11.56|
000016  2c04              CMP      r4,#4
000018  d116              BNE      |L11.72|
00001a  e011              B        |L11.64|
                  |L11.28|
;;;680        {
;;;681            case 0://auto
;;;682                SCCB_WR_Reg(0XFF,0X00);
00001c  2100              MOVS     r1,#0
00001e  20ff              MOVS     r0,#0xff
000020  f7fffffe          BL       SCCB_WR_Reg
;;;683                SCCB_WR_Reg(0XC7,0X10);//AWB ON
000024  2110              MOVS     r1,#0x10
000026  20c7              MOVS     r0,#0xc7
000028  f7fffffe          BL       SCCB_WR_Reg
                  |L11.44|
;;;684                return;
;;;685            case 2://cloudy
;;;686                regccval=0X65;
;;;687                regcdval=0X41;
;;;688                regceval=0X4F;
;;;689                break;
;;;690            case 3://office
;;;691                regccval=0X52;
;;;692                regcdval=0X41;
;;;693                regceval=0X66;
;;;694                break;
;;;695            case 4://home
;;;696                regccval=0X42;
;;;697                regcdval=0X3F;
;;;698                regceval=0X71;
;;;699                break;
;;;700        }
;;;701        SCCB_WR_Reg(0XFF,0X00);
;;;702        SCCB_WR_Reg(0XC7,0X40);    //AWB OFF
;;;703        SCCB_WR_Reg(0XCC,regccval);
;;;704        SCCB_WR_Reg(0XCD,regcdval);
;;;705        SCCB_WR_Reg(0XCE,regceval);
;;;706    }
00002c  e8bd81f0          POP      {r4-r8,pc}
                  |L11.48|
000030  2565              MOVS     r5,#0x65              ;686
000032  2641              MOVS     r6,#0x41              ;687
000034  274f              MOVS     r7,#0x4f              ;688
000036  e007              B        |L11.72|
                  |L11.56|
000038  2552              MOVS     r5,#0x52              ;691
00003a  2641              MOVS     r6,#0x41              ;692
00003c  2766              MOVS     r7,#0x66              ;693
00003e  e003              B        |L11.72|
                  |L11.64|
000040  2542              MOVS     r5,#0x42              ;696
000042  263f              MOVS     r6,#0x3f              ;697
000044  2771              MOVS     r7,#0x71              ;698
000046  bf00              NOP                            ;699
                  |L11.72|
000048  bf00              NOP                            ;689
00004a  2100              MOVS     r1,#0                 ;701
00004c  20ff              MOVS     r0,#0xff              ;701
00004e  f7fffffe          BL       SCCB_WR_Reg
000052  2140              MOVS     r1,#0x40              ;702
000054  20c7              MOVS     r0,#0xc7              ;702
000056  f7fffffe          BL       SCCB_WR_Reg
00005a  4629              MOV      r1,r5                 ;703
00005c  20cc              MOVS     r0,#0xcc              ;703
00005e  f7fffffe          BL       SCCB_WR_Reg
000062  4631              MOV      r1,r6                 ;704
000064  20cd              MOVS     r0,#0xcd              ;704
000066  f7fffffe          BL       SCCB_WR_Reg
00006a  4639              MOV      r1,r7                 ;705
00006c  20ce              MOVS     r0,#0xce              ;705
00006e  f7fffffe          BL       SCCB_WR_Reg
000072  bf00              NOP      
000074  e7da              B        |L11.44|
;;;707    //Color_Saturation
                          ENDP


                          AREA ||i.OV2640_OutSize_Set||, CODE, READONLY, ALIGN=1

                  OV2640_OutSize_Set PROC
;;;861    
;;;862    uint8_t OV2640_OutSize_Set(uint16_t width,uint16_t height)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;863    {
000004  4604              MOV      r4,r0
000006  460d              MOV      r5,r1
;;;864        uint16_t outh;
;;;865        uint16_t outw;
;;;866        uint8_t temp;
;;;867        if(width%4)return 1;
000008  17e1              ASRS     r1,r4,#31
00000a  eb047191          ADD      r1,r4,r1,LSR #30
00000e  1089              ASRS     r1,r1,#2
000010  eba40181          SUB      r1,r4,r1,LSL #2
000014  b111              CBZ      r1,|L12.28|
000016  2001              MOVS     r0,#1
                  |L12.24|
;;;868        if(height%4)return 2;
;;;869        outw=width/4;
;;;870        outh=height/4;
;;;871        SCCB_WR_Reg(0XFF,0X00);
;;;872        SCCB_WR_Reg(0XE0,0X04);
;;;873        SCCB_WR_Reg(0X5A,outw&0XFF);
;;;874        SCCB_WR_Reg(0X5B,outh&0XFF);
;;;875        temp=(outw>>8)&0X03;
;;;876        temp|=(outh>>6)&0X04;
;;;877        SCCB_WR_Reg(0X5C,temp);
;;;878        SCCB_WR_Reg(0XE0,0X00);
;;;879        return 0;
;;;880    }
000018  e8bd81f0          POP      {r4-r8,pc}
                  |L12.28|
00001c  17e9              ASRS     r1,r5,#31             ;868
00001e  eb057191          ADD      r1,r5,r1,LSR #30      ;868
000022  1089              ASRS     r1,r1,#2              ;868
000024  eba50181          SUB      r1,r5,r1,LSL #2       ;868
000028  b109              CBZ      r1,|L12.46|
00002a  2002              MOVS     r0,#2                 ;868
00002c  e7f4              B        |L12.24|
                  |L12.46|
00002e  4620              MOV      r0,r4                 ;869
000030  17e1              ASRS     r1,r4,#31             ;869
000032  eb047191          ADD      r1,r4,r1,LSR #30      ;869
000036  f3c1078f          UBFX     r7,r1,#2,#16          ;869
00003a  4628              MOV      r0,r5                 ;870
00003c  17e9              ASRS     r1,r5,#31             ;870
00003e  eb057191          ADD      r1,r5,r1,LSR #30      ;870
000042  f3c1068f          UBFX     r6,r1,#2,#16          ;870
000046  2100              MOVS     r1,#0                 ;871
000048  20ff              MOVS     r0,#0xff              ;871
00004a  f7fffffe          BL       SCCB_WR_Reg
00004e  2104              MOVS     r1,#4                 ;872
000050  20e0              MOVS     r0,#0xe0              ;872
000052  f7fffffe          BL       SCCB_WR_Reg
000056  b2f9              UXTB     r1,r7                 ;873
000058  205a              MOVS     r0,#0x5a              ;873
00005a  f7fffffe          BL       SCCB_WR_Reg
00005e  b2f1              UXTB     r1,r6                 ;874
000060  205b              MOVS     r0,#0x5b              ;874
000062  f7fffffe          BL       SCCB_WR_Reg
000066  f3c72801          UBFX     r8,r7,#8,#2           ;875
00006a  2004              MOVS     r0,#4                 ;876
00006c  ea0010a6          AND      r0,r0,r6,ASR #6       ;876
000070  ea400808          ORR      r8,r0,r8              ;876
000074  4641              MOV      r1,r8                 ;877
000076  205c              MOVS     r0,#0x5c              ;877
000078  f7fffffe          BL       SCCB_WR_Reg
00007c  2100              MOVS     r1,#0                 ;878
00007e  20e0              MOVS     r0,#0xe0              ;878
000080  f7fffffe          BL       SCCB_WR_Reg
000084  2000              MOVS     r0,#0                 ;879
000086  e7c7              B        |L12.24|
;;;881    
                          ENDP


                          AREA ||i.OV2640_RGB565_Mode||, CODE, READONLY, ALIGN=2

                  OV2640_RGB565_Mode PROC
;;;612    //OV2640 mode: RGB565
;;;613    void OV2640_RGB565_Mode(void)
000000  b510              PUSH     {r4,lr}
;;;614    {
;;;615    	uint16_t i=0;
000002  2400              MOVS     r4,#0
;;;616    
;;;617    	for(i=0;i<(sizeof(ov2640_rgb565_reg_tbl)/2);i++)
000004  bf00              NOP      
000006  e00a              B        |L13.30|
                  |L13.8|
;;;618    	{
;;;619    		SCCB_WR_Reg(ov2640_rgb565_reg_tbl[i][0],ov2640_rgb565_reg_tbl[i][1]);
000008  4a06              LDR      r2,|L13.36|
00000a  eb020244          ADD      r2,r2,r4,LSL #1
00000e  7851              LDRB     r1,[r2,#1]
000010  4a04              LDR      r2,|L13.36|
000012  f8120014          LDRB     r0,[r2,r4,LSL #1]
000016  f7fffffe          BL       SCCB_WR_Reg
00001a  1c60              ADDS     r0,r4,#1              ;617
00001c  b284              UXTH     r4,r0                 ;617
                  |L13.30|
00001e  2c07              CMP      r4,#7                 ;617
000020  d3f2              BCC      |L13.8|
;;;620    	}
;;;621    }
000022  bd10              POP      {r4,pc}
;;;622    
                          ENDP

                  |L13.36|
                          DCD      ov2640_rgb565_reg_tbl

                          AREA ||i.OV2640_Special_Effects||, CODE, READONLY, ALIGN=1

                  OV2640_Special_Effects PROC
;;;783    //6,classic
;;;784    void OV2640_Special_Effects(uint8_t eft)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;785    {
000004  4604              MOV      r4,r0
;;;786        uint8_t reg7d0val=0X00;
000006  2500              MOVS     r5,#0
;;;787        uint8_t reg7d1val=0X80;
000008  2680              MOVS     r6,#0x80
;;;788        uint8_t reg7d2val=0X80;
00000a  2780              MOVS     r7,#0x80
;;;789        switch(eft)
00000c  2c07              CMP      r4,#7
00000e  d219              BCS      |L14.68|
000010  e8dff004          TBB      [pc,r4]
000014  18040608          DCB      0x18,0x04,0x06,0x08
000018  0c101400          DCB      0x0c,0x10,0x14,0x00
;;;790        {
;;;791            case 1://negative
;;;792                reg7d0val=0X40;
00001c  2540              MOVS     r5,#0x40
;;;793                break;
00001e  e011              B        |L14.68|
;;;794            case 2://black-white
;;;795                reg7d0val=0X18;
000020  2518              MOVS     r5,#0x18
;;;796                break;
000022  e00f              B        |L14.68|
;;;797            case 3://red
;;;798                reg7d0val=0X18;
000024  2518              MOVS     r5,#0x18
;;;799                reg7d1val=0X40;
000026  2640              MOVS     r6,#0x40
;;;800                reg7d2val=0XC0;
000028  27c0              MOVS     r7,#0xc0
;;;801                break;
00002a  e00b              B        |L14.68|
;;;802            case 4://green
;;;803                reg7d0val=0X18;
00002c  2518              MOVS     r5,#0x18
;;;804                reg7d1val=0X40;
00002e  2640              MOVS     r6,#0x40
;;;805                reg7d2val=0X40;
000030  2740              MOVS     r7,#0x40
;;;806                break;
000032  e007              B        |L14.68|
;;;807            case 5://blue
;;;808                reg7d0val=0X18;
000034  2518              MOVS     r5,#0x18
;;;809                reg7d1val=0XA0;
000036  26a0              MOVS     r6,#0xa0
;;;810                reg7d2val=0X40;
000038  2740              MOVS     r7,#0x40
;;;811                break;
00003a  e003              B        |L14.68|
;;;812            case 6://classic
;;;813                reg7d0val=0X18;
00003c  2518              MOVS     r5,#0x18
;;;814                reg7d1val=0X40;
00003e  2640              MOVS     r6,#0x40
;;;815                reg7d2val=0XA6;
000040  27a6              MOVS     r7,#0xa6
;;;816                break;
000042  bf00              NOP      
                  |L14.68|
000044  bf00              NOP                            ;793
;;;817        }
;;;818        SCCB_WR_Reg(0xff,0x00);
000046  2100              MOVS     r1,#0
000048  20ff              MOVS     r0,#0xff
00004a  f7fffffe          BL       SCCB_WR_Reg
;;;819        SCCB_WR_Reg(0x7c,0x00);
00004e  2100              MOVS     r1,#0
000050  207c              MOVS     r0,#0x7c
000052  f7fffffe          BL       SCCB_WR_Reg
;;;820        SCCB_WR_Reg(0x7d,reg7d0val);
000056  4629              MOV      r1,r5
000058  207d              MOVS     r0,#0x7d
00005a  f7fffffe          BL       SCCB_WR_Reg
;;;821        SCCB_WR_Reg(0x7c,0x05);
00005e  2105              MOVS     r1,#5
000060  207c              MOVS     r0,#0x7c
000062  f7fffffe          BL       SCCB_WR_Reg
;;;822        SCCB_WR_Reg(0x7d,reg7d1val);
000066  4631              MOV      r1,r6
000068  207d              MOVS     r0,#0x7d
00006a  f7fffffe          BL       SCCB_WR_Reg
;;;823        SCCB_WR_Reg(0x7d,reg7d2val);
00006e  4639              MOV      r1,r7
000070  207d              MOVS     r0,#0x7d
000072  f7fffffe          BL       SCCB_WR_Reg
;;;824    }
000076  e8bd81f0          POP      {r4-r8,pc}
;;;825    //Color_Bar
                          ENDP


                          AREA ||i.OV2640_UXGA_Init||, CODE, READONLY, ALIGN=2

                  OV2640_UXGA_Init PROC
;;;590    };  
;;;591    void OV2640_UXGA_Init(void)
000000  b510              PUSH     {r4,lr}
;;;592    {
;;;593    	for(uint32_t i=0; i<sizeof(ov2640_uxga_init_reg_tbl)/2 ; i++)
000002  2400              MOVS     r4,#0
000004  e00e              B        |L15.36|
                  |L15.6|
;;;594     {
;;;595       SCCB_WR_Reg(ov2640_uxga_init_reg_tbl[i][0],ov2640_uxga_init_reg_tbl[i][1]);
000006  4a09              LDR      r2,|L15.44|
000008  eb020244          ADD      r2,r2,r4,LSL #1
00000c  7851              LDRB     r1,[r2,#1]
00000e  4a07              LDR      r2,|L15.44|
000010  f8120014          LDRB     r0,[r2,r4,LSL #1]
000014  f7fffffe          BL       SCCB_WR_Reg
;;;596       if(i<10) HAL_Delay(5);
000018  2c0a              CMP      r4,#0xa
00001a  d202              BCS      |L15.34|
00001c  2005              MOVS     r0,#5
00001e  f7fffffe          BL       HAL_Delay
                  |L15.34|
000022  1c64              ADDS     r4,r4,#1              ;593
                  |L15.36|
000024  2cb2              CMP      r4,#0xb2              ;593
000026  d3ee              BCC      |L15.6|
;;;597     }
;;;598    
;;;599    }
000028  bd10              POP      {r4,pc}
;;;600    
                          ENDP

00002a  0000              DCW      0x0000
                  |L15.44|
                          DCD      ov2640_uxga_init_reg_tbl

                          AREA ||i.OV2640_Window_Set||, CODE, READONLY, ALIGN=1

                  OV2640_Window_Set PROC
;;;837    
;;;838    void OV2640_Window_Set(uint16_t sx,uint16_t sy,uint16_t width,uint16_t height)
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;839    {
000004  4605              MOV      r5,r0
000006  460e              MOV      r6,r1
000008  4617              MOV      r7,r2
00000a  4698              MOV      r8,r3
;;;840        uint16_t endx;
;;;841        uint16_t endy;
;;;842        uint8_t temp;
;;;843        endx=sx+width/2;
00000c  4638              MOV      r0,r7
00000e  eb0771d0          ADD      r1,r7,r0,LSR #31
000012  eb050161          ADD      r1,r5,r1,ASR #1
000016  fa1ff981          UXTH     r9,r1
;;;844         endy=sy+height/2;
00001a  4640              MOV      r0,r8
00001c  eb0871d0          ADD      r1,r8,r0,LSR #31
000020  eb060161          ADD      r1,r6,r1,ASR #1
000024  fa1ffa81          UXTH     r10,r1
;;;845    
;;;846        SCCB_WR_Reg(0XFF,0X01);
000028  2101              MOVS     r1,#1
00002a  20ff              MOVS     r0,#0xff
00002c  f7fffffe          BL       SCCB_WR_Reg
;;;847        temp=SCCB_RD_Reg(0X03);
000030  2003              MOVS     r0,#3
000032  f7fffffe          BL       SCCB_RD_Reg
000036  4604              MOV      r4,r0
;;;848        temp&=0XF0;
000038  f00404f0          AND      r4,r4,#0xf0
;;;849        temp|=((endy&0X03)<<2)|(sy&0X03);
00003c  f00a0103          AND      r1,r10,#3
000040  4630              MOV      r0,r6
000042  f361009f          BFI      r0,r1,#2,#30
000046  4304              ORRS     r4,r4,r0
;;;850        SCCB_WR_Reg(0X03,temp);
000048  4621              MOV      r1,r4
00004a  2003              MOVS     r0,#3
00004c  f7fffffe          BL       SCCB_WR_Reg
;;;851        SCCB_WR_Reg(0X19,sy>>2);
000050  f3c60187          UBFX     r1,r6,#2,#8
000054  2019              MOVS     r0,#0x19
000056  f7fffffe          BL       SCCB_WR_Reg
;;;852        SCCB_WR_Reg(0X1A,endy>>2);
00005a  f3ca0187          UBFX     r1,r10,#2,#8
00005e  201a              MOVS     r0,#0x1a
000060  f7fffffe          BL       SCCB_WR_Reg
;;;853    
;;;854        temp=SCCB_RD_Reg(0X32);
000064  2032              MOVS     r0,#0x32
000066  f7fffffe          BL       SCCB_RD_Reg
00006a  4604              MOV      r4,r0
;;;855        temp&=0XC0;
00006c  f00404c0          AND      r4,r4,#0xc0
;;;856        temp|=((endx&0X07)<<3)|(sx&0X07);
000070  f0090107          AND      r1,r9,#7
000074  4628              MOV      r0,r5
000076  f36100df          BFI      r0,r1,#3,#29
00007a  4304              ORRS     r4,r4,r0
;;;857        SCCB_WR_Reg(0X32,temp);
00007c  4621              MOV      r1,r4
00007e  2032              MOVS     r0,#0x32
000080  f7fffffe          BL       SCCB_WR_Reg
;;;858        SCCB_WR_Reg(0X17,sx>>3);
000084  f3c501c7          UBFX     r1,r5,#3,#8
000088  2017              MOVS     r0,#0x17
00008a  f7fffffe          BL       SCCB_WR_Reg
;;;859        SCCB_WR_Reg(0X18,endx>>3);
00008e  f3c901c7          UBFX     r1,r9,#3,#8
000092  2018              MOVS     r0,#0x18
000094  f7fffffe          BL       SCCB_WR_Reg
;;;860    }
000098  e8bd87f0          POP      {r4-r10,pc}
;;;861    
                          ENDP


                          AREA ||i.SCCB_GPIO_Init||, CODE, READONLY, ALIGN=2

                  SCCB_GPIO_Init PROC
;;;4      uint32_t Tickdelay;
;;;5      void SCCB_GPIO_Init(void)
000000  b500              PUSH     {lr}
;;;6      {
000002  b087              SUB      sp,sp,#0x1c
;;;7      	GPIO_InitTypeDef GPIO_InitStruct = {0};
000004  2114              MOVS     r1,#0x14
000006  a802              ADD      r0,sp,#8
000008  f7fffffe          BL       __aeabi_memclr4
;;;8        __HAL_RCC_GPIOB_CLK_ENABLE();
00000c  bf00              NOP      
00000e  2000              MOVS     r0,#0
000010  9001              STR      r0,[sp,#4]
000012  4810              LDR      r0,|L17.84|
000014  6800              LDR      r0,[r0,#0]
000016  f0400002          ORR      r0,r0,#2
00001a  490e              LDR      r1,|L17.84|
00001c  6008              STR      r0,[r1,#0]
00001e  4608              MOV      r0,r1
000020  6800              LDR      r0,[r0,#0]
000022  f0000002          AND      r0,r0,#2
000026  9001              STR      r0,[sp,#4]
000028  bf00              NOP      
00002a  bf00              NOP      
;;;9        /*Configure GPIO pin Output Level */
;;;10       HAL_GPIO_WritePin(GPIOB, GPIO_PIN_10|GPIO_PIN_11, GPIO_PIN_SET);
00002c  2201              MOVS     r2,#1
00002e  f44f6140          MOV      r1,#0xc00
000032  4809              LDR      r0,|L17.88|
000034  f7fffffe          BL       HAL_GPIO_WritePin
;;;11     	/*Configure GPIO pins : PB10 PB11 */
;;;12       GPIO_InitStruct.Pin = GPIO_PIN_10|GPIO_PIN_11;
000038  f44f6040          MOV      r0,#0xc00
00003c  9002              STR      r0,[sp,#8]
;;;13       GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
00003e  2001              MOVS     r0,#1
000040  9003              STR      r0,[sp,#0xc]
;;;14       GPIO_InitStruct.Pull = GPIO_PULLUP;
000042  9004              STR      r0,[sp,#0x10]
;;;15       GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
000044  2003              MOVS     r0,#3
000046  9005              STR      r0,[sp,#0x14]
;;;16       HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
000048  a902              ADD      r1,sp,#8
00004a  4803              LDR      r0,|L17.88|
00004c  f7fffffe          BL       HAL_GPIO_Init
;;;17     }
000050  b007              ADD      sp,sp,#0x1c
000052  bd00              POP      {pc}
;;;18     void SCCB_Start(void)
                          ENDP

                  |L17.84|
                          DCD      0x40023830
                  |L17.88|
                          DCD      0x40020400

                          AREA ||i.SCCB_No_Ack||, CODE, READONLY, ALIGN=2

                  SCCB_No_Ack PROC
;;;43     
;;;44     void SCCB_No_Ack(void)
000000  b510              PUSH     {r4,lr}
;;;45     {
;;;46     	HAL_Delay(1);
000002  2001              MOVS     r0,#1
000004  f7fffffe          BL       HAL_Delay
;;;47     	SCCB_SDA_H;
000008  2201              MOVS     r2,#1
00000a  0211              LSLS     r1,r2,#8
00000c  481c              LDR      r0,|L18.128|
00000e  f7fffffe          BL       HAL_GPIO_WritePin
;;;48     	SCCB_SCL_H;
000012  2201              MOVS     r2,#1
000014  0251              LSLS     r1,r2,#9
000016  481a              LDR      r0,|L18.128|
000018  f7fffffe          BL       HAL_GPIO_WritePin
;;;49     
;;;50     	Tickdelay = ticknumber;while(Tickdelay--);
00001c  2078              MOVS     r0,#0x78
00001e  4919              LDR      r1,|L18.132|
000020  6008              STR      r0,[r1,#0]  ; Tickdelay
000022  bf00              NOP      
                  |L18.36|
000024  4817              LDR      r0,|L18.132|
000026  6801              LDR      r1,[r0,#0]  ; Tickdelay
000028  6800              LDR      r0,[r0,#0]  ; Tickdelay
00002a  1e40              SUBS     r0,r0,#1
00002c  4a15              LDR      r2,|L18.132|
00002e  6010              STR      r0,[r2,#0]  ; Tickdelay
000030  2900              CMP      r1,#0
000032  d1f7              BNE      |L18.36|
;;;51     	SCCB_SCL_L;
000034  2200              MOVS     r2,#0
000036  f44f7100          MOV      r1,#0x200
00003a  4811              LDR      r0,|L18.128|
00003c  f7fffffe          BL       HAL_GPIO_WritePin
;;;52     
;;;53     	Tickdelay = ticknumber;while(Tickdelay--);
000040  2078              MOVS     r0,#0x78
000042  4910              LDR      r1,|L18.132|
000044  6008              STR      r0,[r1,#0]  ; Tickdelay
000046  bf00              NOP      
                  |L18.72|
000048  480e              LDR      r0,|L18.132|
00004a  6801              LDR      r1,[r0,#0]  ; Tickdelay
00004c  6800              LDR      r0,[r0,#0]  ; Tickdelay
00004e  1e40              SUBS     r0,r0,#1
000050  4a0c              LDR      r2,|L18.132|
000052  6010              STR      r0,[r2,#0]  ; Tickdelay
000054  2900              CMP      r1,#0
000056  d1f7              BNE      |L18.72|
;;;54     	SCCB_SDA_L;
000058  2200              MOVS     r2,#0
00005a  f44f7180          MOV      r1,#0x100
00005e  4808              LDR      r0,|L18.128|
000060  f7fffffe          BL       HAL_GPIO_WritePin
;;;55     
;;;56     	Tickdelay = ticknumber;while(Tickdelay--);
000064  2078              MOVS     r0,#0x78
000066  4907              LDR      r1,|L18.132|
000068  6008              STR      r0,[r1,#0]  ; Tickdelay
00006a  bf00              NOP      
                  |L18.108|
00006c  4805              LDR      r0,|L18.132|
00006e  6801              LDR      r1,[r0,#0]  ; Tickdelay
000070  6800              LDR      r0,[r0,#0]  ; Tickdelay
000072  1e40              SUBS     r0,r0,#1
000074  4a03              LDR      r2,|L18.132|
000076  6010              STR      r0,[r2,#0]  ; Tickdelay
000078  2900              CMP      r1,#0
00007a  d1f7              BNE      |L18.108|
;;;57     }
00007c  bd10              POP      {r4,pc}
;;;58     
                          ENDP

00007e  0000              DCW      0x0000
                  |L18.128|
                          DCD      0x40020400
                  |L18.132|
                          DCD      Tickdelay

                          AREA ||i.SCCB_RD_Byte||, CODE, READONLY, ALIGN=2

                  SCCB_RD_Byte PROC
;;;86     
;;;87     uint8_t SCCB_RD_Byte(void)
000000  b570              PUSH     {r4-r6,lr}
;;;88     {
;;;89     	uint8_t temp=0,j;
000002  2400              MOVS     r4,#0
;;;90     	SCCB_SDA_IN();
000004  f7fffffe          BL       SCCB_SDA_IN
;;;91     	for(j=8;j>0;j--)
000008  2508              MOVS     r5,#8
00000a  e02e              B        |L19.106|
                  |L19.12|
;;;92     	{
;;;93     
;;;94     		Tickdelay = ticknumber;while(Tickdelay--);
00000c  2078              MOVS     r0,#0x78
00000e  491a              LDR      r1,|L19.120|
000010  6008              STR      r0,[r1,#0]  ; Tickdelay
000012  bf00              NOP      
                  |L19.20|
000014  4818              LDR      r0,|L19.120|
000016  6801              LDR      r1,[r0,#0]  ; Tickdelay
000018  6800              LDR      r0,[r0,#0]  ; Tickdelay
00001a  1e40              SUBS     r0,r0,#1
00001c  4a16              LDR      r2,|L19.120|
00001e  6010              STR      r0,[r2,#0]  ; Tickdelay
000020  2900              CMP      r1,#0
000022  d1f7              BNE      |L19.20|
;;;95     	    SCCB_SCL_H;
000024  2201              MOVS     r2,#1
000026  0251              LSLS     r1,r2,#9
000028  4814              LDR      r0,|L19.124|
00002a  f7fffffe          BL       HAL_GPIO_WritePin
;;;96     		temp=temp<<1;
00002e  0660              LSLS     r0,r4,#25
000030  0e04              LSRS     r4,r0,#24
;;;97     		if(SCCB_READ_SDA)temp++;
000032  f44f7180          MOV      r1,#0x100
000036  4811              LDR      r0,|L19.124|
000038  f7fffffe          BL       HAL_GPIO_ReadPin
00003c  b108              CBZ      r0,|L19.66|
00003e  1c60              ADDS     r0,r4,#1
000040  b2c4              UXTB     r4,r0
                  |L19.66|
;;;98     
;;;99     		Tickdelay = ticknumber;while(Tickdelay--);
000042  2078              MOVS     r0,#0x78
000044  490c              LDR      r1,|L19.120|
000046  6008              STR      r0,[r1,#0]  ; Tickdelay
000048  bf00              NOP      
                  |L19.74|
00004a  480b              LDR      r0,|L19.120|
00004c  6801              LDR      r1,[r0,#0]  ; Tickdelay
00004e  6800              LDR      r0,[r0,#0]  ; Tickdelay
000050  1e40              SUBS     r0,r0,#1
000052  4a09              LDR      r2,|L19.120|
000054  6010              STR      r0,[r2,#0]  ; Tickdelay
000056  2900              CMP      r1,#0
000058  d1f7              BNE      |L19.74|
;;;100    		SCCB_SCL_L;
00005a  2200              MOVS     r2,#0
00005c  f44f7100          MOV      r1,#0x200
000060  4806              LDR      r0,|L19.124|
000062  f7fffffe          BL       HAL_GPIO_WritePin
000066  1e68              SUBS     r0,r5,#1              ;91
000068  b2c5              UXTB     r5,r0                 ;91
                  |L19.106|
00006a  2d00              CMP      r5,#0                 ;91
00006c  dcce              BGT      |L19.12|
;;;101    	}
;;;102    	SCCB_SDA_OUT();
00006e  f7fffffe          BL       SCCB_SDA_OUT
;;;103    	return temp;
000072  4620              MOV      r0,r4
;;;104    }
000074  bd70              POP      {r4-r6,pc}
;;;105    
                          ENDP

000076  0000              DCW      0x0000
                  |L19.120|
                          DCD      Tickdelay
                  |L19.124|
                          DCD      0x40020400

                          AREA ||i.SCCB_RD_Reg||, CODE, READONLY, ALIGN=2

                  SCCB_RD_Reg PROC
;;;120    
;;;121    uint8_t SCCB_RD_Reg(uint8_t reg)
000000  b570              PUSH     {r4-r6,lr}
;;;122    {
000002  4604              MOV      r4,r0
;;;123    	uint8_t val=0;
000004  2500              MOVS     r5,#0
;;;124    	SCCB_Start();
000006  f7fffffe          BL       SCCB_Start
;;;125    	SCCB_WR_Byte(SCCB_ID_W);
00000a  2060              MOVS     r0,#0x60
00000c  f7fffffe          BL       SCCB_WR_Byte
;;;126    
;;;127    	Tickdelay = ticknumber;while(Tickdelay--);
000010  2078              MOVS     r0,#0x78
000012  4921              LDR      r1,|L20.152|
000014  6008              STR      r0,[r1,#0]  ; Tickdelay
000016  bf00              NOP      
                  |L20.24|
000018  481f              LDR      r0,|L20.152|
00001a  6801              LDR      r1,[r0,#0]  ; Tickdelay
00001c  6800              LDR      r0,[r0,#0]  ; Tickdelay
00001e  1e40              SUBS     r0,r0,#1
000020  4a1d              LDR      r2,|L20.152|
000022  6010              STR      r0,[r2,#0]  ; Tickdelay
000024  2900              CMP      r1,#0
000026  d1f7              BNE      |L20.24|
;;;128      	SCCB_WR_Byte(reg);
000028  4620              MOV      r0,r4
00002a  f7fffffe          BL       SCCB_WR_Byte
;;;129    
;;;130      	Tickdelay = ticknumber;while(Tickdelay--);
00002e  2078              MOVS     r0,#0x78
000030  4919              LDR      r1,|L20.152|
000032  6008              STR      r0,[r1,#0]  ; Tickdelay
000034  bf00              NOP      
                  |L20.54|
000036  4818              LDR      r0,|L20.152|
000038  6801              LDR      r1,[r0,#0]  ; Tickdelay
00003a  6800              LDR      r0,[r0,#0]  ; Tickdelay
00003c  1e40              SUBS     r0,r0,#1
00003e  4a16              LDR      r2,|L20.152|
000040  6010              STR      r0,[r2,#0]  ; Tickdelay
000042  2900              CMP      r1,#0
000044  d1f7              BNE      |L20.54|
;;;131    	SCCB_Stop();
000046  f7fffffe          BL       SCCB_Stop
;;;132    
;;;133    	Tickdelay = ticknumber;while(Tickdelay--);
00004a  2078              MOVS     r0,#0x78
00004c  4912              LDR      r1,|L20.152|
00004e  6008              STR      r0,[r1,#0]  ; Tickdelay
000050  bf00              NOP      
                  |L20.82|
000052  4811              LDR      r0,|L20.152|
000054  6801              LDR      r1,[r0,#0]  ; Tickdelay
000056  6800              LDR      r0,[r0,#0]  ; Tickdelay
000058  1e40              SUBS     r0,r0,#1
00005a  4a0f              LDR      r2,|L20.152|
00005c  6010              STR      r0,[r2,#0]  ; Tickdelay
00005e  2900              CMP      r1,#0
000060  d1f7              BNE      |L20.82|
;;;134    
;;;135    	SCCB_Start();
000062  f7fffffe          BL       SCCB_Start
;;;136    	SCCB_WR_Byte(SCCB_ID_R);
000066  2061              MOVS     r0,#0x61
000068  f7fffffe          BL       SCCB_WR_Byte
;;;137    
;;;138    	Tickdelay = ticknumber;while(Tickdelay--);
00006c  2078              MOVS     r0,#0x78
00006e  490a              LDR      r1,|L20.152|
000070  6008              STR      r0,[r1,#0]  ; Tickdelay
000072  bf00              NOP      
                  |L20.116|
000074  4808              LDR      r0,|L20.152|
000076  6801              LDR      r1,[r0,#0]  ; Tickdelay
000078  6800              LDR      r0,[r0,#0]  ; Tickdelay
00007a  1e40              SUBS     r0,r0,#1
00007c  4a06              LDR      r2,|L20.152|
00007e  6010              STR      r0,[r2,#0]  ; Tickdelay
000080  2900              CMP      r1,#0
000082  d1f7              BNE      |L20.116|
;;;139      	val=SCCB_RD_Byte();
000084  f7fffffe          BL       SCCB_RD_Byte
000088  4605              MOV      r5,r0
;;;140      	SCCB_No_Ack();
00008a  f7fffffe          BL       SCCB_No_Ack
;;;141      	SCCB_Stop();
00008e  f7fffffe          BL       SCCB_Stop
;;;142      	return val;
000092  4628              MOV      r0,r5
;;;143    }
000094  bd70              POP      {r4-r6,pc}
;;;144    
                          ENDP

000096  0000              DCW      0x0000
                  |L20.152|
                          DCD      Tickdelay

                          AREA ||i.SCCB_Rst||, CODE, READONLY, ALIGN=2

                  SCCB_Rst PROC
;;;166    
;;;167    void SCCB_Rst(void)
000000  b510              PUSH     {r4,lr}
;;;168    {
;;;169    	HAL_GPIO_WritePin(GPIOD,GPIO_PIN_11,GPIO_PIN_RESET)	;
000002  2200              MOVS     r2,#0
000004  f44f6100          MOV      r1,#0x800
000008  480a              LDR      r0,|L21.52|
00000a  f7fffffe          BL       HAL_GPIO_WritePin
;;;170    	HAL_GPIO_WritePin(GPIOD,GPIO_PIN_10,GPIO_PIN_RESET)	;
00000e  2200              MOVS     r2,#0
000010  f44f6180          MOV      r1,#0x400
000014  4807              LDR      r0,|L21.52|
000016  f7fffffe          BL       HAL_GPIO_WritePin
;;;171    	HAL_Delay(5);
00001a  2005              MOVS     r0,#5
00001c  f7fffffe          BL       HAL_Delay
;;;172    	HAL_GPIO_WritePin(GPIOD,GPIO_PIN_10,GPIO_PIN_SET)	;
000020  2201              MOVS     r2,#1
000022  0291              LSLS     r1,r2,#10
000024  4803              LDR      r0,|L21.52|
000026  f7fffffe          BL       HAL_GPIO_WritePin
;;;173    	HAL_Delay(5);
00002a  2005              MOVS     r0,#5
00002c  f7fffffe          BL       HAL_Delay
;;;174    }
000030  bd10              POP      {r4,pc}
;;;175    
                          ENDP

000032  0000              DCW      0x0000
                  |L21.52|
                          DCD      0x40020c00

                          AREA ||i.SCCB_SDA_IN||, CODE, READONLY, ALIGN=2

                  SCCB_SDA_IN PROC
;;;145    
;;;146    void SCCB_SDA_IN(void)
000000  b500              PUSH     {lr}
;;;147    {
000002  b087              SUB      sp,sp,#0x1c
;;;148    	  GPIO_InitTypeDef GPIO_InitStruct = {0};
000004  2114              MOVS     r1,#0x14
000006  a802              ADD      r0,sp,#8
000008  f7fffffe          BL       __aeabi_memclr4
;;;149    	  __HAL_RCC_GPIOB_CLK_ENABLE();
00000c  bf00              NOP      
00000e  2000              MOVS     r0,#0
000010  9001              STR      r0,[sp,#4]
000012  480d              LDR      r0,|L22.72|
000014  6800              LDR      r0,[r0,#0]
000016  f0400002          ORR      r0,r0,#2
00001a  490b              LDR      r1,|L22.72|
00001c  6008              STR      r0,[r1,#0]
00001e  4608              MOV      r0,r1
000020  6800              LDR      r0,[r0,#0]
000022  f0000002          AND      r0,r0,#2
000026  9001              STR      r0,[sp,#4]
000028  bf00              NOP      
00002a  bf00              NOP      
;;;150    	  GPIO_InitStruct.Pin = GPIO_PIN_8;
00002c  1588              ASRS     r0,r1,#22
00002e  9002              STR      r0,[sp,#8]
;;;151    	  GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
000030  2000              MOVS     r0,#0
000032  9003              STR      r0,[sp,#0xc]
;;;152    	  GPIO_InitStruct.Pull = GPIO_PULLUP;
000034  2001              MOVS     r0,#1
000036  9004              STR      r0,[sp,#0x10]
;;;153    	  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
000038  2002              MOVS     r0,#2
00003a  9005              STR      r0,[sp,#0x14]
;;;154    	  HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
00003c  a902              ADD      r1,sp,#8
00003e  4803              LDR      r0,|L22.76|
000040  f7fffffe          BL       HAL_GPIO_Init
;;;155    }
000044  b007              ADD      sp,sp,#0x1c
000046  bd00              POP      {pc}
;;;156    
                          ENDP

                  |L22.72|
                          DCD      0x40023830
                  |L22.76|
                          DCD      0x40020400

                          AREA ||i.SCCB_SDA_OUT||, CODE, READONLY, ALIGN=2

                  SCCB_SDA_OUT PROC
;;;156    
;;;157    void SCCB_SDA_OUT(void)
000000  b500              PUSH     {lr}
;;;158    {
000002  b087              SUB      sp,sp,#0x1c
;;;159    	  GPIO_InitTypeDef GPIO_InitStruct = {0};
000004  2114              MOVS     r1,#0x14
000006  a802              ADD      r0,sp,#8
000008  f7fffffe          BL       __aeabi_memclr4
;;;160    	  __HAL_RCC_GPIOB_CLK_ENABLE();
00000c  bf00              NOP      
00000e  2000              MOVS     r0,#0
000010  9001              STR      r0,[sp,#4]
000012  480c              LDR      r0,|L23.68|
000014  6800              LDR      r0,[r0,#0]
000016  f0400002          ORR      r0,r0,#2
00001a  490a              LDR      r1,|L23.68|
00001c  6008              STR      r0,[r1,#0]
00001e  4608              MOV      r0,r1
000020  6800              LDR      r0,[r0,#0]
000022  f0000002          AND      r0,r0,#2
000026  9001              STR      r0,[sp,#4]
000028  bf00              NOP      
00002a  bf00              NOP      
;;;161    	  GPIO_InitStruct.Pin = GPIO_PIN_8;
00002c  1588              ASRS     r0,r1,#22
00002e  9002              STR      r0,[sp,#8]
;;;162    	  GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
000030  2001              MOVS     r0,#1
000032  9003              STR      r0,[sp,#0xc]
;;;163    	  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
000034  2002              MOVS     r0,#2
000036  9005              STR      r0,[sp,#0x14]
;;;164    	  HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
000038  a902              ADD      r1,sp,#8
00003a  4803              LDR      r0,|L23.72|
00003c  f7fffffe          BL       HAL_GPIO_Init
;;;165    }
000040  b007              ADD      sp,sp,#0x1c
000042  bd00              POP      {pc}
;;;166    
                          ENDP

                  |L23.68|
                          DCD      0x40023830
                  |L23.72|
                          DCD      0x40020400

                          AREA ||i.SCCB_Start||, CODE, READONLY, ALIGN=2

                  SCCB_Start PROC
;;;17     }
;;;18     void SCCB_Start(void)
000000  b510              PUSH     {r4,lr}
;;;19     {
;;;20         SCCB_SDA_H;
000002  2201              MOVS     r2,#1
000004  0211              LSLS     r1,r2,#8
000006  4816              LDR      r0,|L24.96|
000008  f7fffffe          BL       HAL_GPIO_WritePin
;;;21         SCCB_SCL_H;
00000c  2201              MOVS     r2,#1
00000e  0251              LSLS     r1,r2,#9
000010  4813              LDR      r0,|L24.96|
000012  f7fffffe          BL       HAL_GPIO_WritePin
;;;22     
;;;23         Tickdelay = ticknumber;while(Tickdelay--);
000016  2078              MOVS     r0,#0x78
000018  4912              LDR      r1,|L24.100|
00001a  6008              STR      r0,[r1,#0]  ; Tickdelay
00001c  bf00              NOP      
                  |L24.30|
00001e  4811              LDR      r0,|L24.100|
000020  6801              LDR      r1,[r0,#0]  ; Tickdelay
000022  6800              LDR      r0,[r0,#0]  ; Tickdelay
000024  1e40              SUBS     r0,r0,#1
000026  4a0f              LDR      r2,|L24.100|
000028  6010              STR      r0,[r2,#0]  ; Tickdelay
00002a  2900              CMP      r1,#0
00002c  d1f7              BNE      |L24.30|
;;;24         SCCB_SDA_L;
00002e  2200              MOVS     r2,#0
000030  f44f7180          MOV      r1,#0x100
000034  480a              LDR      r0,|L24.96|
000036  f7fffffe          BL       HAL_GPIO_WritePin
;;;25     
;;;26         Tickdelay = ticknumber;while(Tickdelay--);
00003a  2078              MOVS     r0,#0x78
00003c  4909              LDR      r1,|L24.100|
00003e  6008              STR      r0,[r1,#0]  ; Tickdelay
000040  bf00              NOP      
                  |L24.66|
000042  4808              LDR      r0,|L24.100|
000044  6801              LDR      r1,[r0,#0]  ; Tickdelay
000046  6800              LDR      r0,[r0,#0]  ; Tickdelay
000048  1e40              SUBS     r0,r0,#1
00004a  4a06              LDR      r2,|L24.100|
00004c  6010              STR      r0,[r2,#0]  ; Tickdelay
00004e  2900              CMP      r1,#0
000050  d1f7              BNE      |L24.66|
;;;27         SCCB_SCL_L;
000052  2200              MOVS     r2,#0
000054  f44f7100          MOV      r1,#0x200
000058  4801              LDR      r0,|L24.96|
00005a  f7fffffe          BL       HAL_GPIO_WritePin
;;;28     }
00005e  bd10              POP      {r4,pc}
;;;29     
                          ENDP

                  |L24.96|
                          DCD      0x40020400
                  |L24.100|
                          DCD      Tickdelay

                          AREA ||i.SCCB_Stop||, CODE, READONLY, ALIGN=2

                  SCCB_Stop PROC
;;;30     
;;;31     void SCCB_Stop(void)
000000  b510              PUSH     {r4,lr}
;;;32     {
;;;33         SCCB_SDA_L;
000002  2200              MOVS     r2,#0
000004  f44f7180          MOV      r1,#0x100
000008  4818              LDR      r0,|L25.108|
00000a  f7fffffe          BL       HAL_GPIO_WritePin
;;;34     
;;;35         Tickdelay = ticknumber;while(Tickdelay--);
00000e  2078              MOVS     r0,#0x78
000010  4917              LDR      r1,|L25.112|
000012  6008              STR      r0,[r1,#0]  ; Tickdelay
000014  bf00              NOP      
                  |L25.22|
000016  4816              LDR      r0,|L25.112|
000018  6801              LDR      r1,[r0,#0]  ; Tickdelay
00001a  6800              LDR      r0,[r0,#0]  ; Tickdelay
00001c  1e40              SUBS     r0,r0,#1
00001e  4a14              LDR      r2,|L25.112|
000020  6010              STR      r0,[r2,#0]  ; Tickdelay
000022  2900              CMP      r1,#0
000024  d1f7              BNE      |L25.22|
;;;36         SCCB_SCL_H;
000026  2201              MOVS     r2,#1
000028  0251              LSLS     r1,r2,#9
00002a  4810              LDR      r0,|L25.108|
00002c  f7fffffe          BL       HAL_GPIO_WritePin
;;;37     
;;;38         Tickdelay = ticknumber;while(Tickdelay--);
000030  2078              MOVS     r0,#0x78
000032  490f              LDR      r1,|L25.112|
000034  6008              STR      r0,[r1,#0]  ; Tickdelay
000036  bf00              NOP      
                  |L25.56|
000038  480d              LDR      r0,|L25.112|
00003a  6801              LDR      r1,[r0,#0]  ; Tickdelay
00003c  6800              LDR      r0,[r0,#0]  ; Tickdelay
00003e  1e40              SUBS     r0,r0,#1
000040  4a0b              LDR      r2,|L25.112|
000042  6010              STR      r0,[r2,#0]  ; Tickdelay
000044  2900              CMP      r1,#0
000046  d1f7              BNE      |L25.56|
;;;39         SCCB_SDA_H;
000048  2201              MOVS     r2,#1
00004a  0211              LSLS     r1,r2,#8
00004c  4807              LDR      r0,|L25.108|
00004e  f7fffffe          BL       HAL_GPIO_WritePin
;;;40     
;;;41         Tickdelay = ticknumber;while(Tickdelay--);
000052  2078              MOVS     r0,#0x78
000054  4906              LDR      r1,|L25.112|
000056  6008              STR      r0,[r1,#0]  ; Tickdelay
000058  bf00              NOP      
                  |L25.90|
00005a  4805              LDR      r0,|L25.112|
00005c  6801              LDR      r1,[r0,#0]  ; Tickdelay
00005e  6800              LDR      r0,[r0,#0]  ; Tickdelay
000060  1e40              SUBS     r0,r0,#1
000062  4a03              LDR      r2,|L25.112|
000064  6010              STR      r0,[r2,#0]  ; Tickdelay
000066  2900              CMP      r1,#0
000068  d1f7              BNE      |L25.90|
;;;42     }
00006a  bd10              POP      {r4,pc}
;;;43     
                          ENDP

                  |L25.108|
                          DCD      0x40020400
                  |L25.112|
                          DCD      Tickdelay

                          AREA ||i.SCCB_WR_Byte||, CODE, READONLY, ALIGN=2

                  SCCB_WR_Byte PROC
;;;58     
;;;59     uint8_t SCCB_WR_Byte(uint8_t dat)
000000  b570              PUSH     {r4-r6,lr}
;;;60     {
000002  4604              MOV      r4,r0
;;;61     	uint8_t j,res;
;;;62     	for(j=0;j<8;j++)
000004  2600              MOVS     r6,#0
000006  e035              B        |L26.116|
                  |L26.8|
;;;63     	{
;;;64     		if(dat&0x80)SCCB_SDA_H;
000008  f0040080          AND      r0,r4,#0x80
00000c  b128              CBZ      r0,|L26.26|
00000e  2201              MOVS     r2,#1
000010  0211              LSLS     r1,r2,#8
000012  4832              LDR      r0,|L26.220|
000014  f7fffffe          BL       HAL_GPIO_WritePin
000018  e005              B        |L26.38|
                  |L26.26|
;;;65     		else SCCB_SDA_L;
00001a  2200              MOVS     r2,#0
00001c  f44f7180          MOV      r1,#0x100
000020  482e              LDR      r0,|L26.220|
000022  f7fffffe          BL       HAL_GPIO_WritePin
                  |L26.38|
;;;66     		dat<<=1;
000026  0660              LSLS     r0,r4,#25
000028  0e04              LSRS     r4,r0,#24
;;;67     
;;;68     		Tickdelay = ticknumber;while(Tickdelay--);
00002a  2078              MOVS     r0,#0x78
00002c  492c              LDR      r1,|L26.224|
00002e  6008              STR      r0,[r1,#0]  ; Tickdelay
000030  bf00              NOP      
                  |L26.50|
000032  482b              LDR      r0,|L26.224|
000034  6801              LDR      r1,[r0,#0]  ; Tickdelay
000036  6800              LDR      r0,[r0,#0]  ; Tickdelay
000038  1e40              SUBS     r0,r0,#1
00003a  4a29              LDR      r2,|L26.224|
00003c  6010              STR      r0,[r2,#0]  ; Tickdelay
00003e  2900              CMP      r1,#0
000040  d1f7              BNE      |L26.50|
;;;69     		SCCB_SCL_H;
000042  2201              MOVS     r2,#1
000044  0251              LSLS     r1,r2,#9
000046  4825              LDR      r0,|L26.220|
000048  f7fffffe          BL       HAL_GPIO_WritePin
;;;70     
;;;71     		Tickdelay = ticknumber;while(Tickdelay--);
00004c  2078              MOVS     r0,#0x78
00004e  4924              LDR      r1,|L26.224|
000050  6008              STR      r0,[r1,#0]  ; Tickdelay
000052  bf00              NOP      
                  |L26.84|
000054  4822              LDR      r0,|L26.224|
000056  6801              LDR      r1,[r0,#0]  ; Tickdelay
000058  6800              LDR      r0,[r0,#0]  ; Tickdelay
00005a  1e40              SUBS     r0,r0,#1
00005c  4a20              LDR      r2,|L26.224|
00005e  6010              STR      r0,[r2,#0]  ; Tickdelay
000060  2900              CMP      r1,#0
000062  d1f7              BNE      |L26.84|
;;;72     		SCCB_SCL_L;
000064  2200              MOVS     r2,#0
000066  f44f7100          MOV      r1,#0x200
00006a  481c              LDR      r0,|L26.220|
00006c  f7fffffe          BL       HAL_GPIO_WritePin
000070  1c70              ADDS     r0,r6,#1              ;62
000072  b2c6              UXTB     r6,r0                 ;62
                  |L26.116|
000074  2e08              CMP      r6,#8                 ;62
000076  dbc7              BLT      |L26.8|
;;;73     	}
;;;74     	SCCB_SDA_IN();
000078  f7fffffe          BL       SCCB_SDA_IN
;;;75     
;;;76     	Tickdelay = ticknumber;while(Tickdelay--);
00007c  2078              MOVS     r0,#0x78
00007e  4918              LDR      r1,|L26.224|
000080  6008              STR      r0,[r1,#0]  ; Tickdelay
000082  bf00              NOP      
                  |L26.132|
000084  4816              LDR      r0,|L26.224|
000086  6801              LDR      r1,[r0,#0]  ; Tickdelay
000088  6800              LDR      r0,[r0,#0]  ; Tickdelay
00008a  1e40              SUBS     r0,r0,#1
00008c  4a14              LDR      r2,|L26.224|
00008e  6010              STR      r0,[r2,#0]  ; Tickdelay
000090  2900              CMP      r1,#0
000092  d1f7              BNE      |L26.132|
;;;77     	SCCB_SCL_H;
000094  2201              MOVS     r2,#1
000096  0251              LSLS     r1,r2,#9
000098  4810              LDR      r0,|L26.220|
00009a  f7fffffe          BL       HAL_GPIO_WritePin
;;;78     
;;;79     	Tickdelay = ticknumber;while(Tickdelay--);
00009e  2078              MOVS     r0,#0x78
0000a0  490f              LDR      r1,|L26.224|
0000a2  6008              STR      r0,[r1,#0]  ; Tickdelay
0000a4  bf00              NOP      
                  |L26.166|
0000a6  480e              LDR      r0,|L26.224|
0000a8  6801              LDR      r1,[r0,#0]  ; Tickdelay
0000aa  6800              LDR      r0,[r0,#0]  ; Tickdelay
0000ac  1e40              SUBS     r0,r0,#1
0000ae  4a0c              LDR      r2,|L26.224|
0000b0  6010              STR      r0,[r2,#0]  ; Tickdelay
0000b2  2900              CMP      r1,#0
0000b4  d1f7              BNE      |L26.166|
;;;80     	if(SCCB_READ_SDA)res=1;
0000b6  f44f7180          MOV      r1,#0x100
0000ba  4808              LDR      r0,|L26.220|
0000bc  f7fffffe          BL       HAL_GPIO_ReadPin
0000c0  b108              CBZ      r0,|L26.198|
0000c2  2501              MOVS     r5,#1
0000c4  e000              B        |L26.200|
                  |L26.198|
;;;81     	else res=0;
0000c6  2500              MOVS     r5,#0
                  |L26.200|
;;;82     	SCCB_SCL_L;
0000c8  2200              MOVS     r2,#0
0000ca  f44f7100          MOV      r1,#0x200
0000ce  4803              LDR      r0,|L26.220|
0000d0  f7fffffe          BL       HAL_GPIO_WritePin
;;;83     	SCCB_SDA_OUT();
0000d4  f7fffffe          BL       SCCB_SDA_OUT
;;;84     	return res;
0000d8  4628              MOV      r0,r5
;;;85     }
0000da  bd70              POP      {r4-r6,pc}
;;;86     
                          ENDP

                  |L26.220|
                          DCD      0x40020400
                  |L26.224|
                          DCD      Tickdelay

                          AREA ||i.SCCB_WR_Reg||, CODE, READONLY, ALIGN=2

                  SCCB_WR_Reg PROC
;;;105    
;;;106    uint8_t SCCB_WR_Reg(uint8_t reg,uint8_t data)
000000  b570              PUSH     {r4-r6,lr}
;;;107    {
000002  4605              MOV      r5,r0
000004  460c              MOV      r4,r1
;;;108    	uint8_t res=0;
000006  2600              MOVS     r6,#0
;;;109    	SCCB_Start();
000008  f7fffffe          BL       SCCB_Start
;;;110    	if(SCCB_WR_Byte(SCCB_ID_W))res=1;
00000c  2060              MOVS     r0,#0x60
00000e  f7fffffe          BL       SCCB_WR_Byte
000012  b100              CBZ      r0,|L27.22|
000014  2601              MOVS     r6,#1
                  |L27.22|
;;;111    
;;;112    	Tickdelay = ticknumber;while(Tickdelay--);
000016  2078              MOVS     r0,#0x78
000018  4912              LDR      r1,|L27.100|
00001a  6008              STR      r0,[r1,#0]  ; Tickdelay
00001c  bf00              NOP      
                  |L27.30|
00001e  4811              LDR      r0,|L27.100|
000020  6801              LDR      r1,[r0,#0]  ; Tickdelay
000022  6800              LDR      r0,[r0,#0]  ; Tickdelay
000024  1e40              SUBS     r0,r0,#1
000026  4a0f              LDR      r2,|L27.100|
000028  6010              STR      r0,[r2,#0]  ; Tickdelay
00002a  2900              CMP      r1,#0
00002c  d1f7              BNE      |L27.30|
;;;113    	if(SCCB_WR_Byte(reg))res=1;
00002e  4628              MOV      r0,r5
000030  f7fffffe          BL       SCCB_WR_Byte
000034  b100              CBZ      r0,|L27.56|
000036  2601              MOVS     r6,#1
                  |L27.56|
;;;114    
;;;115    	Tickdelay = ticknumber;while(Tickdelay--);
000038  2078              MOVS     r0,#0x78
00003a  490a              LDR      r1,|L27.100|
00003c  6008              STR      r0,[r1,#0]  ; Tickdelay
00003e  bf00              NOP      
                  |L27.64|
000040  4808              LDR      r0,|L27.100|
000042  6801              LDR      r1,[r0,#0]  ; Tickdelay
000044  6800              LDR      r0,[r0,#0]  ; Tickdelay
000046  1e40              SUBS     r0,r0,#1
000048  4a06              LDR      r2,|L27.100|
00004a  6010              STR      r0,[r2,#0]  ; Tickdelay
00004c  2900              CMP      r1,#0
00004e  d1f7              BNE      |L27.64|
;;;116      	if(SCCB_WR_Byte(data))res=1;
000050  4620              MOV      r0,r4
000052  f7fffffe          BL       SCCB_WR_Byte
000056  b100              CBZ      r0,|L27.90|
000058  2601              MOVS     r6,#1
                  |L27.90|
;;;117      	SCCB_Stop();
00005a  f7fffffe          BL       SCCB_Stop
;;;118      	return	res;
00005e  4630              MOV      r0,r6
;;;119    }
000060  bd70              POP      {r4-r6,pc}
;;;120    
                          ENDP

000062  0000              DCW      0x0000
                  |L27.100|
                          DCD      Tickdelay

                          AREA ||.constdata||, DATA, READONLY, ALIGN=0

                  ov2640_uxga_init_reg_tbl
000000  ff002cff          DCB      0xff,0x00,0x2c,0xff
000004  2edfff01          DCB      0x2e,0xdf,0xff,0x01
000008  3c321100          DCB      0x3c,0x32,0x11,0x00
00000c  090204d8          DCB      0x09,0x02,0x04,0xd8
000010  13e51448          DCB      0x13,0xe5,0x14,0x48
000014  2c0c3378          DCB      0x2c,0x0c,0x33,0x78
000018  3a333bfb          DCB      0x3a,0x33,0x3b,0xfb
00001c  3e004311          DCB      0x3e,0x00,0x43,0x11
000020  16103992          DCB      0x16,0x10,0x39,0x92
000024  35da221a          DCB      0x35,0xda,0x22,0x1a
000028  37c32300          DCB      0x37,0xc3,0x23,0x00
00002c  34c0361a          DCB      0x34,0xc0,0x36,0x1a
000030  068807c0          DCB      0x06,0x88,0x07,0xc0
000034  0d870e41          DCB      0x0d,0x87,0x0e,0x41
000038  4c004800          DCB      0x4c,0x00,0x48,0x00
00003c  5b004203          DCB      0x5b,0x00,0x42,0x03
000040  4a812199          DCB      0x4a,0x81,0x21,0x99
000044  24402538          DCB      0x24,0x40,0x25,0x38
000048  26825c00          DCB      0x26,0x82,0x5c,0x00
00004c  63004600          DCB      0x63,0x00,0x46,0x00
000050  0c3c6170          DCB      0x0c,0x3c,0x61,0x70
000054  62807c05          DCB      0x62,0x80,0x7c,0x05
000058  20802830          DCB      0x20,0x80,0x28,0x30
00005c  6c006d80          DCB      0x6c,0x00,0x6d,0x80
000060  6e007002          DCB      0x6e,0x00,0x70,0x02
000064  719473c1          DCB      0x71,0x94,0x73,0xc1
000068  3d345a57          DCB      0x3d,0x34,0x5a,0x57
00006c  12001711          DCB      0x12,0x00,0x17,0x11
000070  18751901          DCB      0x18,0x75,0x19,0x01
000074  1a973236          DCB      0x1a,0x97,0x32,0x36
000078  030f3740          DCB      0x03,0x0f,0x37,0x40
00007c  4fca50a8          DCB      0x4f,0xca,0x50,0xa8
000080  5a236d00          DCB      0x5a,0x23,0x6d,0x00
000084  6d38ff00          DCB      0x6d,0x38,0xff,0x00
000088  e57ff9c0          DCB      0xe5,0x7f,0xf9,0xc0
00008c  4124e014          DCB      0x41,0x24,0xe0,0x14
000090  76ff33a0          DCB      0x76,0xff,0x33,0xa0
000094  42204318          DCB      0x42,0x20,0x43,0x18
000098  4c0087d5          DCB      0x4c,0x00,0x87,0xd5
00009c  883fd703          DCB      0x88,0x3f,0xd7,0x03
0000a0  d910d382          DCB      0xd9,0x10,0xd3,0x82
0000a4  c808c980          DCB      0xc8,0x08,0xc9,0x80
0000a8  7c007d00          DCB      0x7c,0x00,0x7d,0x00
0000ac  7c037d48          DCB      0x7c,0x03,0x7d,0x48
0000b0  7d487c08          DCB      0x7d,0x48,0x7c,0x08
0000b4  7d207d10          DCB      0x7d,0x20,0x7d,0x10
0000b8  7d0e9000          DCB      0x7d,0x0e,0x90,0x00
0000bc  910e911a          DCB      0x91,0x0e,0x91,0x1a
0000c0  9131915a          DCB      0x91,0x31,0x91,0x5a
0000c4  91699175          DCB      0x91,0x69,0x91,0x75
0000c8  917e9188          DCB      0x91,0x7e,0x91,0x88
0000cc  918f9196          DCB      0x91,0x8f,0x91,0x96
0000d0  91a391af          DCB      0x91,0xa3,0x91,0xaf
0000d4  91c491d7          DCB      0x91,0xc4,0x91,0xd7
0000d8  91e89120          DCB      0x91,0xe8,0x91,0x20
0000dc  92009306          DCB      0x92,0x00,0x93,0x06
0000e0  93e39305          DCB      0x93,0xe3,0x93,0x05
0000e4  93059300          DCB      0x93,0x05,0x93,0x00
0000e8  93049300          DCB      0x93,0x04,0x93,0x00
0000ec  93009300          DCB      0x93,0x00,0x93,0x00
0000f0  93009300          DCB      0x93,0x00,0x93,0x00
0000f4  93009300          DCB      0x93,0x00,0x93,0x00
0000f8  96009708          DCB      0x96,0x00,0x97,0x08
0000fc  97199702          DCB      0x97,0x19,0x97,0x02
000100  970c9724          DCB      0x97,0x0c,0x97,0x24
000104  97309728          DCB      0x97,0x30,0x97,0x28
000108  97269702          DCB      0x97,0x26,0x97,0x02
00010c  97989780          DCB      0x97,0x98,0x97,0x80
000110  97009700          DCB      0x97,0x00,0x97,0x00
000114  c3efa400          DCB      0xc3,0xef,0xa4,0x00
000118  a800c511          DCB      0xa8,0x00,0xc5,0x11
00011c  c651bf80          DCB      0xc6,0x51,0xbf,0x80
000120  c710b666          DCB      0xc7,0x10,0xb6,0x66
000124  b8a5b764          DCB      0xb8,0xa5,0xb7,0x64
000128  b97cb3af          DCB      0xb9,0x7c,0xb3,0xaf
00012c  b497b5ff          DCB      0xb4,0x97,0xb5,0xff
000130  b0c5b194          DCB      0xb0,0xc5,0xb1,0x94
000134  b20fc45c          DCB      0xb2,0x0f,0xc4,0x5c
000138  c0c8c196          DCB      0xc0,0xc8,0xc1,0x96
00013c  8c00863d          DCB      0x8c,0x00,0x86,0x3d
000140  50005190          DCB      0x50,0x00,0x51,0x90
000144  522c5300          DCB      0x52,0x2c,0x53,0x00
000148  54005588          DCB      0x54,0x00,0x55,0x88
00014c  5a905b2c          DCB      0x5a,0x90,0x5b,0x2c
000150  5c05d382          DCB      0x5c,0x05,0xd3,0x82
000154  c3ed7f00          DCB      0xc3,0xed,0x7f,0x00
000158  da09e51f          DCB      0xda,0x09,0xe5,0x1f
00015c  e167e000          DCB      0xe1,0x67,0xe0,0x00
000160  dd7f0500          DCB      0xdd,0x7f,0x05,0x00
                  ov2640_svga_init_reg_tbl
000164  ff002cff          DCB      0xff,0x00,0x2c,0xff
000168  2edfff01          DCB      0x2e,0xdf,0xff,0x01
00016c  3c321100          DCB      0x3c,0x32,0x11,0x00
000170  090204d8          DCB      0x09,0x02,0x04,0xd8
000174  13e51448          DCB      0x13,0xe5,0x14,0x48
000178  2c0c3378          DCB      0x2c,0x0c,0x33,0x78
00017c  3a333bfb          DCB      0x3a,0x33,0x3b,0xfb
000180  3e004311          DCB      0x3e,0x00,0x43,0x11
000184  16103992          DCB      0x16,0x10,0x39,0x92
000188  35da221a          DCB      0x35,0xda,0x22,0x1a
00018c  37c32300          DCB      0x37,0xc3,0x23,0x00
000190  34c0361a          DCB      0x34,0xc0,0x36,0x1a
000194  068807c0          DCB      0x06,0x88,0x07,0xc0
000198  0d870e41          DCB      0x0d,0x87,0x0e,0x41
00019c  4c004800          DCB      0x4c,0x00,0x48,0x00
0001a0  5b004203          DCB      0x5b,0x00,0x42,0x03
0001a4  4a812199          DCB      0x4a,0x81,0x21,0x99
0001a8  24402538          DCB      0x24,0x40,0x25,0x38
0001ac  26825c00          DCB      0x26,0x82,0x5c,0x00
0001b0  63004622          DCB      0x63,0x00,0x46,0x22
0001b4  0c3c6170          DCB      0x0c,0x3c,0x61,0x70
0001b8  62807c05          DCB      0x62,0x80,0x7c,0x05
0001bc  20802830          DCB      0x20,0x80,0x28,0x30
0001c0  6c006d80          DCB      0x6c,0x00,0x6d,0x80
0001c4  6e007002          DCB      0x6e,0x00,0x70,0x02
0001c8  719473c1          DCB      0x71,0x94,0x73,0xc1
0001cc  3d345a57          DCB      0x3d,0x34,0x5a,0x57
0001d0  12401711          DCB      0x12,0x40,0x17,0x11
0001d4  18431900          DCB      0x18,0x43,0x19,0x00
0001d8  1a4b3209          DCB      0x1a,0x4b,0x32,0x09
0001dc  37c04fca          DCB      0x37,0xc0,0x4f,0xca
0001e0  50a85a23          DCB      0x50,0xa8,0x5a,0x23
0001e4  6d003d38          DCB      0x6d,0x00,0x3d,0x38
0001e8  ff00e57f          DCB      0xff,0x00,0xe5,0x7f
0001ec  f9c04124          DCB      0xf9,0xc0,0x41,0x24
0001f0  e01476ff          DCB      0xe0,0x14,0x76,0xff
0001f4  33a04220          DCB      0x33,0xa0,0x42,0x20
0001f8  43184c00          DCB      0x43,0x18,0x4c,0x00
0001fc  87d5883f          DCB      0x87,0xd5,0x88,0x3f
000200  d703d910          DCB      0xd7,0x03,0xd9,0x10
000204  d382c808          DCB      0xd3,0x82,0xc8,0x08
000208  c9807c00          DCB      0xc9,0x80,0x7c,0x00
00020c  7d007c03          DCB      0x7d,0x00,0x7c,0x03
000210  7d487d48          DCB      0x7d,0x48,0x7d,0x48
000214  7c087d20          DCB      0x7c,0x08,0x7d,0x20
000218  7d107d0e          DCB      0x7d,0x10,0x7d,0x0e
00021c  9000910e          DCB      0x90,0x00,0x91,0x0e
000220  911a9131          DCB      0x91,0x1a,0x91,0x31
000224  915a9169          DCB      0x91,0x5a,0x91,0x69
000228  9175917e          DCB      0x91,0x75,0x91,0x7e
00022c  9188918f          DCB      0x91,0x88,0x91,0x8f
000230  919691a3          DCB      0x91,0x96,0x91,0xa3
000234  91af91c4          DCB      0x91,0xaf,0x91,0xc4
000238  91d791e8          DCB      0x91,0xd7,0x91,0xe8
00023c  91209200          DCB      0x91,0x20,0x92,0x00
000240  930693e3          DCB      0x93,0x06,0x93,0xe3
000244  93059305          DCB      0x93,0x05,0x93,0x05
000248  93009304          DCB      0x93,0x00,0x93,0x04
00024c  93009300          DCB      0x93,0x00,0x93,0x00
000250  93009300          DCB      0x93,0x00,0x93,0x00
000254  93009300          DCB      0x93,0x00,0x93,0x00
000258  93009600          DCB      0x93,0x00,0x96,0x00
00025c  97089719          DCB      0x97,0x08,0x97,0x19
000260  9702970c          DCB      0x97,0x02,0x97,0x0c
000264  97249730          DCB      0x97,0x24,0x97,0x30
000268  97289726          DCB      0x97,0x28,0x97,0x26
00026c  97029798          DCB      0x97,0x02,0x97,0x98
000270  97809700          DCB      0x97,0x80,0x97,0x00
000274  9700c3ed          DCB      0x97,0x00,0xc3,0xed
000278  a400a800          DCB      0xa4,0x00,0xa8,0x00
00027c  c511c651          DCB      0xc5,0x11,0xc6,0x51
000280  bf80c710          DCB      0xbf,0x80,0xc7,0x10
000284  b666b8a5          DCB      0xb6,0x66,0xb8,0xa5
000288  b764b97c          DCB      0xb7,0x64,0xb9,0x7c
00028c  b3afb497          DCB      0xb3,0xaf,0xb4,0x97
000290  b5ffb0c5          DCB      0xb5,0xff,0xb0,0xc5
000294  b194b20f          DCB      0xb1,0x94,0xb2,0x0f
000298  c45cc064          DCB      0xc4,0x5c,0xc0,0x64
00029c  c14b8c00          DCB      0xc1,0x4b,0x8c,0x00
0002a0  863d5000          DCB      0x86,0x3d,0x50,0x00
0002a4  51c85296          DCB      0x51,0xc8,0x52,0x96
0002a8  53005400          DCB      0x53,0x00,0x54,0x00
0002ac  55005ac8          DCB      0x55,0x00,0x5a,0xc8
0002b0  5b965c00          DCB      0x5b,0x96,0x5c,0x00
0002b4  d302c3ed          DCB      0xd3,0x02,0xc3,0xed
0002b8  7f00da09          DCB      0x7f,0x00,0xda,0x09
0002bc  e51fe167          DCB      0xe5,0x1f,0xe1,0x67
0002c0  e000dd7f          DCB      0xe0,0x00,0xdd,0x7f
0002c4  0500              DCB      0x05,0x00
                  ov2640_rgb565_reg_tbl
0002c6  ff00              DCB      0xff,0x00
0002c8  da09d703          DCB      0xda,0x09,0xd7,0x03
0002cc  df0233a0          DCB      0xdf,0x02,0x33,0xa0
0002d0  3c00e167          DCB      0x3c,0x00,0xe1,0x67
                  OV2640_AUTOEXPOSURE_LEVEL
0002d4  ff012420          DCB      0xff,0x01,0x24,0x20
0002d8  25182660          DCB      0x25,0x18,0x26,0x60
0002dc  ff012434          DCB      0xff,0x01,0x24,0x34
0002e0  251c2600          DCB      0x25,0x1c,0x26,0x00
0002e4  ff01243e          DCB      0xff,0x01,0x24,0x3e
0002e8  25382681          DCB      0x25,0x38,0x26,0x81
0002ec  ff012448          DCB      0xff,0x01,0x24,0x48
0002f0  25402681          DCB      0x25,0x40,0x26,0x81
0002f4  ff012458          DCB      0xff,0x01,0x24,0x58
0002f8  25502692          DCB      0x25,0x50,0x26,0x92
                  ov2640_yuv422_reg_tbl
0002fc  ff00da10          DCB      0xff,0x00,0xda,0x10
000300  d703df00          DCB      0xd7,0x03,0xdf,0x00
000304  33803c40          DCB      0x33,0x80,0x3c,0x40
000308  e1770000          DCB      0xe1,0x77,0x00,0x00
                  ov2640_jpeg_reg_tbl
00030c  ff01e014          DCB      0xff,0x01,0xe0,0x14
000310  e177e51f          DCB      0xe1,0x77,0xe5,0x1f
000314  d703da10          DCB      0xd7,0x03,0xda,0x10
000318  e000              DCB      0xe0,0x00

                          AREA ||.data||, DATA, ALIGN=2

                  Tickdelay
                          DCD      0x00000000
                  getPicture
000004  0000              DCB      0x00,0x00
                  confirmOV2640_MID
000006  0000              DCW      0x0000
                  confirmOV2640_PID
000008  0000              DCW      0x0000

;*** Start embedded assembler ***

#line 1 "..\\HARDWARE\\OV2640\\ov2640.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___8_ov2640_c_3659ab58____REV16|
#line 463 "../Drivers/CMSIS/Include/cmsis_armcc.h"
|__asm___8_ov2640_c_3659ab58____REV16| PROC
#line 464

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___8_ov2640_c_3659ab58____REVSH|
#line 478
|__asm___8_ov2640_c_3659ab58____REVSH| PROC
#line 479

 revsh r0, r0
 bx lr
	ENDP
	AREA ||.rrx_text||, CODE
	THUMB
	EXPORT |__asm___8_ov2640_c_3659ab58____RRX|
#line 665
|__asm___8_ov2640_c_3659ab58____RRX| PROC
#line 666

 rrx r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
